{"ast":null,"code":"import _objectSpread from\"/home/vinod/Music/KVK_8833_PROFIT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from\"react\";import toast from\"react-hot-toast\";import{marketStatus,riskManagement,formatters}from\"../utils/tradingEngine\";import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PaperTrading(){const[paperCapital]=useState(1000000);const[currentCapital,setCurrentCapital]=useState(1000000);const[trades,setTrades]=useState([]);const[showNewTrade,setShowNewTrade]=useState(false);const[newTrade,setNewTrade]=useState({symbol:\"INFY\",tradingStyle:\"SWING\",quantity:10,entry_price:1500,exit_type:\"target\"});const[marketOpen,setMarketOpen]=useState(false);const[marketStatus,setMarketStatusInfo]=useState(null);const[showDisciplineScore,setShowDisciplineScore]=useState(false);const[portfolioValue,setPortfolioValue]=useState([{date:\"Day 1\",value:1000000}]);useEffect(()=>{checkMarketStatus();calculateTotalValue();const interval=setInterval(checkMarketStatus,60000);return()=>clearInterval(interval);},[trades,currentCapital]);const checkMarketStatus=()=>{const status=marketStatus.getMarketStatus();setMarketOpen(status.isOpen);setMarketStatusInfo(status);};const calculateTotalValue=()=>{const investedValue=trades.reduce((sum,trade)=>{return sum+trade.quantity*trade.entry_price;},0);const totalValue=currentCapital+investedValue;updatePortfolioValue(totalValue);};const updatePortfolioValue=value=>{setPortfolioValue(prev=>[...prev,{date:\"Day \".concat(prev.length+1),value}]);};const handleAddTrade=async e=>{e.preventDefault();// Market validation\nif(!marketOpen){toast.error(\"Market is closed. Open: 9:15 AM - 3:30 PM (IST). Time: \".concat(marketStatus.getTimeUntilMarketOpen()));return;}// Capital validation\nconst tradeValue=newTrade.quantity*newTrade.entry_price;if(tradeValue>currentCapital){toast.error(\"Insufficient capital for this trade\");return;}// Risk management validation (1% rule)\nconst targetPrice=parseFloat(newTrade.target_price||newTrade.entry_price*1.02);const stopPrice=parseFloat(newTrade.stop_price||newTrade.entry_price*0.98);const riskPerTrade=tradeValue*0.01;// 1% of capital\nconst actualRisk=tradeValue-tradeValue*(stopPrice/newTrade.entry_price);if(actualRisk>riskPerTrade){toast.error(\"Risk too high. Max risk: \\u20B9\".concat(formatters.formatCurrency(riskPerTrade),\". Adjust stop loss.\"));return;}// Simulate slippage (0.05% to 0.1%)\nconst slippagePercent=0.0005+Math.random()*0.0005;const executionPrice=newTrade.entry_price*(1+slippagePercent);// Simulate execution delay\nconst executionDelay=500+Math.random()*1500;setTimeout(()=>{const trade=_objectSpread(_objectSpread({id:Date.now()},newTrade),{},{entry_price:executionPrice,target_price:targetPrice,stop_price:stopPrice,entry_time:new Date().toLocaleTimeString(),entry_date:new Date().toLocaleDateString(),status:\"open\",entry_value:newTrade.quantity*executionPrice,pnl:0,pnlPercent:0,riskReward:(targetPrice-executionPrice)/(executionPrice-stopPrice),discipline:{timeHeld:0,targetHit:false,stopHit:false}});setTrades([...trades,trade]);setCurrentCapital(currentCapital-trade.entry_value);setNewTrade({symbol:\"INFY\",tradingStyle:\"SWING\",quantity:10,entry_price:1500,exit_type:\"target\"});setShowNewTrade(false);toast.success(\"Trade executed at \\u20B9\".concat(executionPrice.toFixed(2),\" (slippage: \\u20B9\").concat((executionPrice-newTrade.entry_price).toFixed(2),\")\"));},executionDelay);};const handleCloseTrade=function(tradeId,exitPrice){let exitType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"manual\";const trade=trades.find(t=>t.id===tradeId);if(!trade)return;// Simulate slippage on exit (0.05% to 0.1%)\nconst slippagePercent=0.0005+Math.random()*0.0005;const exitSlippage=exitPrice*slippagePercent;const finalExitPrice=exitType===\"manual\"?exitPrice+exitSlippage:exitPrice;// Calculate commission (0.05% per side = 0.1% total)\nconst commission=trade.entry_value*0.001+trade.quantity*finalExitPrice*0.001;const exitValue=trade.quantity*finalExitPrice-commission;const pnl=exitValue-trade.entry_value;const pnlPercent=pnl/trade.entry_value*100;// Calculate time held\nconst now=new Date();const entryTime=new Date();const timeHeld=Math.round((now-entryTime)/(1000*60));// minutes\nconst closedTrade=_objectSpread(_objectSpread({},trade),{},{exit_price:finalExitPrice,exit_time:new Date().toLocaleTimeString(),exit_date:new Date().toLocaleDateString(),exit_type:exitType,status:\"closed\",pnl:Math.round(pnl*100)/100,pnlPercent:Math.round(pnlPercent*100)/100,commission:Math.round(commission*100)/100,timeHeld:timeHeld,discipline:_objectSpread(_objectSpread({},trade.discipline),{},{targetHit:exitType===\"target\",stopHit:exitType===\"stop\"})});setTrades(trades.map(t=>t.id===tradeId?closedTrade:t));setCurrentCapital(currentCapital+exitValue);const successMsg=\"Trade closed with \".concat(pnlPercent>0?\"‚úÖ profit\":\"‚ùå loss\",\": \").concat(pnlPercent.toFixed(2),\"% (\").concat(exitType,\"). Commission: \\u20B9\").concat(commission.toFixed(2));toast.success(successMsg);};const getTotalReturn=()=>{var _portfolioValue;const lastValue=((_portfolioValue=portfolioValue[portfolioValue.length-1])===null||_portfolioValue===void 0?void 0:_portfolioValue.value)||paperCapital;return(lastValue-paperCapital)/paperCapital*100;};const getTotalPnL=()=>{var _portfolioValue2;const lastValue=((_portfolioValue2=portfolioValue[portfolioValue.length-1])===null||_portfolioValue2===void 0?void 0:_portfolioValue2.value)||paperCapital;return lastValue-paperCapital;};const getWinRate=()=>{const closedTrades=trades.filter(t=>t.status===\"closed\");if(closedTrades.length===0)return 0;const winners=closedTrades.filter(t=>t.pnl>0).length;return(winners/closedTrades.length*100).toFixed(1);};const calculateDisciplineScore=()=>{const closedTrades=trades.filter(t=>t.status===\"closed\");if(closedTrades.length===0)return 100;let score=100;// Penalty for stops not hit (cutting winners early or letting losers run)\nconst targetHits=closedTrades.filter(t=>{var _t$discipline;return(_t$discipline=t.discipline)===null||_t$discipline===void 0?void 0:_t$discipline.targetHit;}).length;const stopHits=closedTrades.filter(t=>{var _t$discipline2;return(_t$discipline2=t.discipline)===null||_t$discipline2===void 0?void 0:_t$discipline2.stopHit;}).length;if(closedTrades.length>0){const stopDiscipline=stopHits/closedTrades.length*100;if(stopDiscipline<50)score-=15;// Penalty if not taking stops\n}// Reward for following target discipline\nif(targetHits>stopHits&&targetHits>closedTrades.length*0.5){score+=10;}// Penalty for average loss > average win (poor risk/reward)\nconst avgWin=closedTrades.filter(t=>t.pnl>0).reduce((sum,t)=>sum+t.pnl,0)/(closedTrades.filter(t=>t.pnl>0).length||1);const avgLoss=Math.abs(closedTrades.filter(t=>t.pnl<0).reduce((sum,t)=>sum+t.pnl,0)/(closedTrades.filter(t=>t.pnl<0).length||1));if(avgLoss>avgWin*1.5&&closedTrades.filter(t=>t.pnl<0).length>0){score-=10;}return Math.max(0,Math.min(100,score));};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[marketStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg shadow-md p-4 text-white \".concat(marketOpen?\"bg-green-600\":\"bg-red-600\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold\",children:marketOpen?\"üü¢ Market Open - Live Trading\":\"üîí Market Closed - Simulation Mode\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:marketOpen?\"Open: 9:15 AM - 3:30 PM (IST)\":\"Opens at: \".concat(marketStatus.timeUntilOpen)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uD83D\\uDCDD Paper Trading\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Practice trading with virtual capital - no real money involved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Paper Capital\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:[\"\\u20B9\",paperCapital.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Current Value\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-primary\",children:[\"\\u20B9\",(currentCapital+trades.reduce((sum,t)=>sum+(t.status===\"open\"?t.entry_value:0),0)).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total P&L\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(getTotalPnL()>=0?\"text-green-600\":\"text-red-600\"),children:[getTotalPnL()>=0?\"+\":\"\",\"\\u20B9\",getTotalPnL().toFixed(0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Return\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(getTotalReturn()>=0?\"text-green-600\":\"text-red-600\"),children:[getTotalReturn()>=0?\"+\":\"\",getTotalReturn().toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Win Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-primary\",children:[getWinRate(),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewTrade(!showNewTrade),className:\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"\\u2795 New Trade\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTrades([]);setCurrentCapital(paperCapital);setPortfolioValue([{date:\"Day 1\",value:paperCapital}]);toast.success(\"Paper trading reset!\");},className:\"bg-gray-400 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"\\uD83D\\uDD04 Reset\"})]}),showNewTrade&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTrade,className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTrade.symbol,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{symbol:e.target.value.toUpperCase()})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTrade.quantity,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{quantity:parseInt(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Entry Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newTrade.entry_price,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{entry_price:parseFloat(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Stop Loss (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newTrade.stop_price||(newTrade.entry_price*0.98).toFixed(2),onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{stop_price:parseFloat(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Target Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newTrade.target_price||(newTrade.entry_price*1.02).toFixed(2),onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{target_price:parseFloat(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end gap-2 md:col-span-5\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-green-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition\",children:\"Open Trade\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowNewTrade(false),className:\"flex-1 bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Portfolio Performance\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:portfolioValue,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\\u20B9\".concat(value.toLocaleString())}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"value\",stroke:\"#0088FE\",dot:false,name:\"Portfolio Value\"})]})})]}),trades.filter(t=>t.status===\"open\").length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"\\uD83D\\uDCCA Open Trades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:trades.filter(t=>t.status===\"open\").map(trade=>{var _trade$stop_price,_trade$target_price,_trade$riskReward;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-gray-900\",children:trade.symbol}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Opened at \",trade.entry_time]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-green-600\",children:trade.tradingStyle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:trade.quantity})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Entry\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"\\u20B9\",trade.entry_price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Stop Loss\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-red-600\",children:[\"\\u20B9\",((_trade$stop_price=trade.stop_price)===null||_trade$stop_price===void 0?void 0:_trade$stop_price.toFixed(2))||\"N/A\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Target\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",((_trade$target_price=trade.target_price)===null||_trade$target_price===void 0?void 0:_trade$target_price.toFixed(2))||\"N/A\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Risk/Reward\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-blue-600\",children:[(_trade$riskReward=trade.riskReward)===null||_trade$riskReward===void 0?void 0:_trade$riskReward.toFixed(2),\":1\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCloseTrade(trade.id,trade.target_price,\"target\"),className:\"flex-1 min-w-[120px] bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\",children:\"\\u2705 Close at Target\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCloseTrade(trade.id,trade.stop_price,\"stop\"),className:\"flex-1 min-w-[120px] bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\",children:\"\\u274C Hit Stop Loss\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Manual exit\",id:\"exit-\".concat(trade.id),className:\"flex-1 min-w-[120px] px-3 py-2 border border-gray-300 rounded-lg text-sm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const exitPrice=parseFloat(document.getElementById(\"exit-\".concat(trade.id)).value);if(exitPrice>0){handleCloseTrade(trade.id,exitPrice,\"manual\");}else{toast.error(\"Enter a valid exit price\");}},className:\"bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\",children:\"Manual Exit\"})]})]},trade.id);})})]}),trades.filter(t=>t.status===\"closed\").length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"\\u2705 Closed Trades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Entry\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Exit\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Return %\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Commission\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold text-gray-700\",children:\"Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:trades.filter(t=>t.status===\"closed\").map(trade=>{var _trade$exit_price,_trade$commission;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 font-semibold\",children:trade.symbol}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:trade.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3\",children:[\"\\u20B9\",trade.entry_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3\",children:[\"\\u20B9\",(_trade$exit_price=trade.exit_price)===null||_trade$exit_price===void 0?void 0:_trade$exit_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-xs\",children:[trade.exit_type===\"target\"&&\"üéØ Target\",trade.exit_type===\"stop\"&&\"üõë Stop\",trade.exit_type===\"manual\"&&\"‚úã Manual\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 font-semibold \".concat(trade.pnl>=0?\"text-green-600\":\"text-red-600\"),children:[trade.pnl>=0?\"+\":\"\",\"\\u20B9\",trade.pnl.toFixed(0)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 font-semibold \".concat(trade.pnlPercent>=0?\"text-green-600\":\"text-red-600\"),children:[trade.pnlPercent>=0?\"+\":\"\",trade.pnlPercent.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-red-600\",children:[\"\\u20B9\",((_trade$commission=trade.commission)===null||_trade$commission===void 0?void 0:_trade$commission.toFixed(0))||\"0\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-xs\",children:[trade.timeHeld||0,\" min\"]})]},trade.id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Discipline Score\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:[calculateDisciplineScore(),\"%\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDisciplineScore(!showDisciplineScore),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:shadow-lg\",children:showDisciplineScore?\"Hide Details\":\"Show Details\"})]}),showDisciplineScore&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-2 text-sm text-gray-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2705 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Discipline Metrics:\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 Stop Loss Hit Rate: \",(trades.filter(t=>{var _t$discipline3;return t.status===\"closed\"&&((_t$discipline3=t.discipline)===null||_t$discipline3===void 0?void 0:_t$discipline3.stopHit);}).length/trades.filter(t=>t.status===\"closed\").length*100||0).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 Target Achievement Rate: \",(trades.filter(t=>{var _t$discipline4;return t.status===\"closed\"&&((_t$discipline4=t.discipline)===null||_t$discipline4===void 0?void 0:_t$discipline4.targetHit);}).length/trades.filter(t=>t.status===\"closed\").length*100||0).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 Average Win: \\u20B9\",(trades.filter(t=>t.status===\"closed\"&&t.pnl>0).reduce((sum,t)=>sum+t.pnl,0)/(trades.filter(t=>t.status===\"closed\"&&t.pnl>0).length||1)).toFixed(0)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 Average Loss: \\u20B9\",(Math.abs(trades.filter(t=>t.status===\"closed\"&&t.pnl<0).reduce((sum,t)=>sum+t.pnl,0))/(trades.filter(t=>t.status===\"closed\"&&t.pnl<0).length||1)).toFixed(0)]})]})]})]}),trades.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"No trades yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Open your first paper trade to practice trading strategies\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","marketStatus","riskManagement","formatters","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","PaperTrading","paperCapital","currentCapital","setCurrentCapital","trades","setTrades","showNewTrade","setShowNewTrade","newTrade","setNewTrade","symbol","tradingStyle","quantity","entry_price","exit_type","marketOpen","setMarketOpen","setMarketStatusInfo","showDisciplineScore","setShowDisciplineScore","portfolioValue","setPortfolioValue","date","value","checkMarketStatus","calculateTotalValue","interval","setInterval","clearInterval","status","getMarketStatus","isOpen","investedValue","reduce","sum","trade","totalValue","updatePortfolioValue","prev","concat","length","handleAddTrade","e","preventDefault","error","getTimeUntilMarketOpen","tradeValue","targetPrice","parseFloat","target_price","stopPrice","stop_price","riskPerTrade","actualRisk","formatCurrency","slippagePercent","Math","random","executionPrice","executionDelay","setTimeout","_objectSpread","id","Date","now","entry_time","toLocaleTimeString","entry_date","toLocaleDateString","entry_value","pnl","pnlPercent","riskReward","discipline","timeHeld","targetHit","stopHit","success","toFixed","handleCloseTrade","tradeId","exitPrice","exitType","arguments","undefined","find","t","exitSlippage","finalExitPrice","commission","exitValue","entryTime","round","closedTrade","exit_price","exit_time","exit_date","map","successMsg","getTotalReturn","_portfolioValue","lastValue","getTotalPnL","_portfolioValue2","getWinRate","closedTrades","filter","winners","calculateDisciplineScore","score","targetHits","_t$discipline","stopHits","_t$discipline2","stopDiscipline","avgWin","avgLoss","abs","max","min","className","children","timeUntilOpen","toLocaleString","onClick","onSubmit","type","onChange","target","toUpperCase","parseInt","step","width","height","data","strokeDasharray","dataKey","formatter","stroke","dot","name","_trade$stop_price","_trade$target_price","_trade$riskReward","placeholder","document","getElementById","_trade$exit_price","_trade$commission","_t$discipline3","_t$discipline4"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/PaperTrading.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { marketStatus, riskManagement, formatters } from \"../utils/tradingEngine\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\n\nexport default function PaperTrading() {\n  const [paperCapital] = useState(1000000);\n  const [currentCapital, setCurrentCapital] = useState(1000000);\n  const [trades, setTrades] = useState([]);\n  const [showNewTrade, setShowNewTrade] = useState(false);\n  const [newTrade, setNewTrade] = useState({\n    symbol: \"INFY\",\n    tradingStyle: \"SWING\",\n    quantity: 10,\n    entry_price: 1500,\n    exit_type: \"target\",\n  });\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [marketStatus, setMarketStatusInfo] = useState(null);\n  const [showDisciplineScore, setShowDisciplineScore] = useState(false);\n\n  const [portfolioValue, setPortfolioValue] = useState([\n    { date: \"Day 1\", value: 1000000 },\n  ]);\n\n  useEffect(() => {\n    checkMarketStatus();\n    calculateTotalValue();\n    const interval = setInterval(checkMarketStatus, 60000);\n    return () => clearInterval(interval);\n  }, [trades, currentCapital]);\n\n  const checkMarketStatus = () => {\n    const status = marketStatus.getMarketStatus();\n    setMarketOpen(status.isOpen);\n    setMarketStatusInfo(status);\n  };\n\n  const calculateTotalValue = () => {\n    const investedValue = trades.reduce((sum, trade) => {\n      return sum + trade.quantity * trade.entry_price;\n    }, 0);\n\n    const totalValue = currentCapital + investedValue;\n    updatePortfolioValue(totalValue);\n  };\n\n  const updatePortfolioValue = (value) => {\n    setPortfolioValue((prev) => [\n      ...prev,\n      { date: `Day ${prev.length + 1}`, value },\n    ]);\n  };\n\n  const handleAddTrade = async (e) => {\n    e.preventDefault();\n\n    // Market validation\n    if (!marketOpen) {\n      toast.error(\n        `Market is closed. Open: 9:15 AM - 3:30 PM (IST). Time: ${marketStatus.getTimeUntilMarketOpen()}`\n      );\n      return;\n    }\n\n    // Capital validation\n    const tradeValue = newTrade.quantity * newTrade.entry_price;\n    if (tradeValue > currentCapital) {\n      toast.error(\"Insufficient capital for this trade\");\n      return;\n    }\n\n    // Risk management validation (1% rule)\n    const targetPrice = parseFloat(newTrade.target_price || newTrade.entry_price * 1.02);\n    const stopPrice = parseFloat(newTrade.stop_price || newTrade.entry_price * 0.98);\n    \n    const riskPerTrade = tradeValue * 0.01; // 1% of capital\n    const actualRisk = tradeValue - (tradeValue * (stopPrice / newTrade.entry_price));\n    \n    if (actualRisk > riskPerTrade) {\n      toast.error(\n        `Risk too high. Max risk: ‚Çπ${formatters.formatCurrency(riskPerTrade)}. Adjust stop loss.`\n      );\n      return;\n    }\n\n    // Simulate slippage (0.05% to 0.1%)\n    const slippagePercent = 0.0005 + Math.random() * 0.0005;\n    const executionPrice = newTrade.entry_price * (1 + slippagePercent);\n\n    // Simulate execution delay\n    const executionDelay = 500 + Math.random() * 1500;\n\n    setTimeout(() => {\n      const trade = {\n        id: Date.now(),\n        ...newTrade,\n        entry_price: executionPrice,\n        target_price: targetPrice,\n        stop_price: stopPrice,\n        entry_time: new Date().toLocaleTimeString(),\n        entry_date: new Date().toLocaleDateString(),\n        status: \"open\",\n        entry_value: newTrade.quantity * executionPrice,\n        pnl: 0,\n        pnlPercent: 0,\n        riskReward: (targetPrice - executionPrice) / (executionPrice - stopPrice),\n        discipline: {\n          timeHeld: 0,\n          targetHit: false,\n          stopHit: false,\n        },\n      };\n\n      setTrades([...trades, trade]);\n      setCurrentCapital(currentCapital - trade.entry_value);\n      setNewTrade({\n        symbol: \"INFY\",\n        tradingStyle: \"SWING\",\n        quantity: 10,\n        entry_price: 1500,\n        exit_type: \"target\",\n      });\n      setShowNewTrade(false);\n      toast.success(`Trade executed at ‚Çπ${executionPrice.toFixed(2)} (slippage: ‚Çπ${(executionPrice - newTrade.entry_price).toFixed(2)})`);\n    }, executionDelay);\n  };\n\n  const handleCloseTrade = (tradeId, exitPrice, exitType = \"manual\") => {\n    const trade = trades.find((t) => t.id === tradeId);\n    if (!trade) return;\n\n    // Simulate slippage on exit (0.05% to 0.1%)\n    const slippagePercent = 0.0005 + Math.random() * 0.0005;\n    const exitSlippage = exitPrice * slippagePercent;\n    const finalExitPrice = exitType === \"manual\" ? exitPrice + exitSlippage : exitPrice;\n\n    // Calculate commission (0.05% per side = 0.1% total)\n    const commission = (trade.entry_value * 0.001) + (trade.quantity * finalExitPrice * 0.001);\n\n    const exitValue = trade.quantity * finalExitPrice - commission;\n    const pnl = exitValue - trade.entry_value;\n    const pnlPercent = (pnl / trade.entry_value) * 100;\n\n    // Calculate time held\n    const now = new Date();\n    const entryTime = new Date();\n    const timeHeld = Math.round((now - entryTime) / (1000 * 60)); // minutes\n\n    const closedTrade = {\n      ...trade,\n      exit_price: finalExitPrice,\n      exit_time: new Date().toLocaleTimeString(),\n      exit_date: new Date().toLocaleDateString(),\n      exit_type: exitType,\n      status: \"closed\",\n      pnl: Math.round(pnl * 100) / 100,\n      pnlPercent: Math.round(pnlPercent * 100) / 100,\n      commission: Math.round(commission * 100) / 100,\n      timeHeld: timeHeld,\n      discipline: {\n        ...trade.discipline,\n        targetHit: exitType === \"target\",\n        stopHit: exitType === \"stop\",\n      },\n    };\n\n    setTrades(\n      trades.map((t) => (t.id === tradeId ? closedTrade : t))\n    );\n\n    setCurrentCapital(currentCapital + exitValue);\n    const successMsg = `Trade closed with ${pnlPercent > 0 ? \"‚úÖ profit\" : \"‚ùå loss\"}: ${pnlPercent.toFixed(2)}% (${exitType}). Commission: ‚Çπ${commission.toFixed(2)}`;\n    toast.success(successMsg);\n  };\n\n  const getTotalReturn = () => {\n    const lastValue = portfolioValue[portfolioValue.length - 1]?.value || paperCapital;\n    return ((lastValue - paperCapital) / paperCapital) * 100;\n  };\n\n  const getTotalPnL = () => {\n    const lastValue = portfolioValue[portfolioValue.length - 1]?.value || paperCapital;\n    return lastValue - paperCapital;\n  };\n\n  const getWinRate = () => {\n    const closedTrades = trades.filter((t) => t.status === \"closed\");\n    if (closedTrades.length === 0) return 0;\n    const winners = closedTrades.filter((t) => t.pnl > 0).length;\n    return ((winners / closedTrades.length) * 100).toFixed(1);\n  };\n\n  const calculateDisciplineScore = () => {\n    const closedTrades = trades.filter((t) => t.status === \"closed\");\n    if (closedTrades.length === 0) return 100;\n\n    let score = 100;\n    \n    // Penalty for stops not hit (cutting winners early or letting losers run)\n    const targetHits = closedTrades.filter((t) => t.discipline?.targetHit).length;\n    const stopHits = closedTrades.filter((t) => t.discipline?.stopHit).length;\n    \n    if (closedTrades.length > 0) {\n      const stopDiscipline = (stopHits / closedTrades.length) * 100;\n      if (stopDiscipline < 50) score -= 15; // Penalty if not taking stops\n    }\n\n    // Reward for following target discipline\n    if (targetHits > stopHits && targetHits > closedTrades.length * 0.5) {\n      score += 10;\n    }\n\n    // Penalty for average loss > average win (poor risk/reward)\n    const avgWin = closedTrades.filter((t) => t.pnl > 0).reduce((sum, t) => sum + t.pnl, 0) / (closedTrades.filter((t) => t.pnl > 0).length || 1);\n    const avgLoss = Math.abs(closedTrades.filter((t) => t.pnl < 0).reduce((sum, t) => sum + t.pnl, 0) / (closedTrades.filter((t) => t.pnl < 0).length || 1));\n    \n    if (avgLoss > avgWin * 1.5 && closedTrades.filter((t) => t.pnl < 0).length > 0) {\n      score -= 10;\n    }\n\n    return Math.max(0, Math.min(100, score));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Market Status Banner */}\n      {marketStatus && (\n        <div\n          className={`rounded-lg shadow-md p-4 text-white ${\n            marketOpen ? \"bg-green-600\" : \"bg-red-600\"\n          }`}\n        >\n          <div className=\"flex justify-between items-center\">\n            <div className=\"text-lg font-semibold\">\n              {marketOpen ? \"üü¢ Market Open - Live Trading\" : \"üîí Market Closed - Simulation Mode\"}\n            </div>\n            <div className=\"text-sm\">\n              {marketOpen\n                ? \"Open: 9:15 AM - 3:30 PM (IST)\"\n                : `Opens at: ${marketStatus.timeUntilOpen}`}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">üìù Paper Trading</h1>\n        <p className=\"text-gray-600 mt-2\">Practice trading with virtual capital - no real money involved</p>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <p className=\"text-sm text-gray-600 mb-1\">Paper Capital</p>\n          <p className=\"text-3xl font-bold text-gray-900\">‚Çπ{paperCapital.toLocaleString()}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <p className=\"text-sm text-gray-600 mb-1\">Current Value</p>\n          <p className=\"text-3xl font-bold text-primary\">\n            ‚Çπ{(currentCapital + trades.reduce((sum, t) => sum + (t.status === \"open\" ? t.entry_value : 0), 0)).toLocaleString()}\n          </p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <p className=\"text-sm text-gray-600 mb-1\">Total P&L</p>\n          <p className={`text-3xl font-bold ${getTotalPnL() >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n            {getTotalPnL() >= 0 ? \"+\" : \"\"}‚Çπ{getTotalPnL().toFixed(0)}\n          </p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <p className=\"text-sm text-gray-600 mb-1\">Total Return</p>\n          <p className={`text-3xl font-bold ${getTotalReturn() >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n            {getTotalReturn() >= 0 ? \"+\" : \"\"}{getTotalReturn().toFixed(2)}%\n          </p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <p className=\"text-sm text-gray-600 mb-1\">Win Rate</p>\n          <p className=\"text-3xl font-bold text-primary\">{getWinRate()}%</p>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setShowNewTrade(!showNewTrade)}\n          className=\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n        >\n          ‚ûï New Trade\n        </button>\n        <button\n          onClick={() => {\n            setTrades([]);\n            setCurrentCapital(paperCapital);\n            setPortfolioValue([{ date: \"Day 1\", value: paperCapital }]);\n            toast.success(\"Paper trading reset!\");\n          }}\n          className=\"bg-gray-400 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n        >\n          üîÑ Reset\n        </button>\n      </div>\n\n      {/* New Trade Form */}\n      {showNewTrade && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <form onSubmit={handleAddTrade} className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Symbol</label>\n              <input\n                type=\"text\"\n                value={newTrade.symbol}\n                onChange={(e) => setNewTrade({ ...newTrade, symbol: e.target.value.toUpperCase() })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Quantity</label>\n              <input\n                type=\"number\"\n                value={newTrade.quantity}\n                onChange={(e) => setNewTrade({ ...newTrade, quantity: parseInt(e.target.value) })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Entry Price (‚Çπ)</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newTrade.entry_price}\n                onChange={(e) => setNewTrade({ ...newTrade, entry_price: parseFloat(e.target.value) })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Stop Loss (‚Çπ)</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newTrade.stop_price || (newTrade.entry_price * 0.98).toFixed(2)}\n                onChange={(e) => setNewTrade({ ...newTrade, stop_price: parseFloat(e.target.value) })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Target Price (‚Çπ)</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newTrade.target_price || (newTrade.entry_price * 1.02).toFixed(2)}\n                onChange={(e) => setNewTrade({ ...newTrade, target_price: parseFloat(e.target.value) })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n            <div className=\"flex items-end gap-2 md:col-span-5\">\n              <button\n                type=\"submit\"\n                className=\"flex-1 bg-green-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition\"\n              >\n                Open Trade\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setShowNewTrade(false)}\n                className=\"flex-1 bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\"\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Portfolio Performance Chart */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Portfolio Performance</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <LineChart data={portfolioValue}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"date\" />\n            <YAxis />\n            <Tooltip formatter={(value) => `‚Çπ${value.toLocaleString()}`} />\n            <Legend />\n            <Line\n              type=\"monotone\"\n              dataKey=\"value\"\n              stroke=\"#0088FE\"\n              dot={false}\n              name=\"Portfolio Value\"\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Open Trades */}\n      {trades.filter((t) => t.status === \"open\").length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-4\">üìä Open Trades</h3>\n          <div className=\"space-y-3\">\n            {trades\n              .filter((t) => t.status === \"open\")\n              .map((trade) => (\n                <div key={trade.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                  <div className=\"flex justify-between items-start mb-3\">\n                    <div>\n                      <h4 className=\"text-lg font-bold text-gray-900\">{trade.symbol}</h4>\n                      <p className=\"text-sm text-gray-600\">Opened at {trade.entry_time}</p>\n                    </div>\n                    <span className=\"text-2xl font-bold text-green-600\">{trade.tradingStyle}</span>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4\">\n                    <div>\n                      <p className=\"text-xs text-gray-600\">Quantity</p>\n                      <p className=\"font-semibold\">{trade.quantity}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-600\">Entry</p>\n                      <p className=\"font-semibold\">‚Çπ{trade.entry_price.toFixed(2)}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-600\">Stop Loss</p>\n                      <p className=\"font-semibold text-red-600\">‚Çπ{trade.stop_price?.toFixed(2) || \"N/A\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-600\">Target</p>\n                      <p className=\"font-semibold text-green-600\">‚Çπ{trade.target_price?.toFixed(2) || \"N/A\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-600\">Risk/Reward</p>\n                      <p className=\"font-semibold text-blue-600\">{trade.riskReward?.toFixed(2)}:1</p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2 flex-wrap\">\n                    <button\n                      onClick={() => handleCloseTrade(trade.id, trade.target_price, \"target\")}\n                      className=\"flex-1 min-w-[120px] bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\"\n                    >\n                      ‚úÖ Close at Target\n                    </button>\n                    <button\n                      onClick={() => handleCloseTrade(trade.id, trade.stop_price, \"stop\")}\n                      className=\"flex-1 min-w-[120px] bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\"\n                    >\n                      ‚ùå Hit Stop Loss\n                    </button>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      placeholder=\"Manual exit\"\n                      id={`exit-${trade.id}`}\n                      className=\"flex-1 min-w-[120px] px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    />\n                    <button\n                      onClick={() => {\n                        const exitPrice = parseFloat(document.getElementById(`exit-${trade.id}`).value);\n                        if (exitPrice > 0) {\n                          handleCloseTrade(trade.id, exitPrice, \"manual\");\n                        } else {\n                          toast.error(\"Enter a valid exit price\");\n                        }\n                      }}\n                      className=\"bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:shadow-lg transition text-sm\"\n                    >\n                      Manual Exit\n                    </button>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </div>\n      )}\n\n      {/* Closed Trades */}\n      {trades.filter((t) => t.status === \"closed\").length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-4\">‚úÖ Closed Trades</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Symbol</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Qty</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Entry</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Exit</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Type</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">P&L</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Return %</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Commission</th>\n                  <th className=\"px-4 py-2 text-left font-semibold text-gray-700\">Time</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y\">\n                {trades\n                  .filter((t) => t.status === \"closed\")\n                  .map((trade) => (\n                    <tr key={trade.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-4 py-3 font-semibold\">{trade.symbol}</td>\n                      <td className=\"px-4 py-3\">{trade.quantity}</td>\n                      <td className=\"px-4 py-3\">‚Çπ{trade.entry_price.toFixed(2)}</td>\n                      <td className=\"px-4 py-3\">‚Çπ{trade.exit_price?.toFixed(2)}</td>\n                      <td className=\"px-4 py-3 text-xs\">\n                        {trade.exit_type === \"target\" && \"üéØ Target\"}\n                        {trade.exit_type === \"stop\" && \"üõë Stop\"}\n                        {trade.exit_type === \"manual\" && \"‚úã Manual\"}\n                      </td>\n                      <td className={`px-4 py-3 font-semibold ${trade.pnl >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                        {trade.pnl >= 0 ? \"+\" : \"\"}‚Çπ{trade.pnl.toFixed(0)}\n                      </td>\n                      <td className={`px-4 py-3 font-semibold ${trade.pnlPercent >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                        {trade.pnlPercent >= 0 ? \"+\" : \"\"}{trade.pnlPercent.toFixed(2)}%\n                      </td>\n                      <td className=\"px-4 py-3 text-red-600\">‚Çπ{trade.commission?.toFixed(0) || \"0\"}</td>\n                      <td className=\"px-4 py-3 text-xs\">{trade.timeHeld || 0} min</td>\n                    </tr>\n                  ))}\n              </tbody>\n            </table>\n          </div>\n          \n          {/* Discipline Score */}\n          <div className=\"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Discipline Score</p>\n                <p className=\"text-3xl font-bold text-blue-600\">{calculateDisciplineScore()}%</p>\n              </div>\n              <button\n                onClick={() => setShowDisciplineScore(!showDisciplineScore)}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:shadow-lg\"\n              >\n                {showDisciplineScore ? \"Hide Details\" : \"Show Details\"}\n              </button>\n            </div>\n            \n            {showDisciplineScore && (\n              <div className=\"mt-4 space-y-2 text-sm text-gray-700\">\n                <p>‚úÖ <strong>Discipline Metrics:</strong></p>\n                <p>‚Ä¢ Stop Loss Hit Rate: {((trades.filter((t) => t.status === \"closed\" && t.discipline?.stopHit).length / trades.filter((t) => t.status === \"closed\").length * 100) || 0).toFixed(0)}%</p>\n                <p>‚Ä¢ Target Achievement Rate: {((trades.filter((t) => t.status === \"closed\" && t.discipline?.targetHit).length / trades.filter((t) => t.status === \"closed\").length * 100) || 0).toFixed(0)}%</p>\n                <p>‚Ä¢ Average Win: ‚Çπ{(trades.filter((t) => t.status === \"closed\" && t.pnl > 0).reduce((sum, t) => sum + t.pnl, 0) / (trades.filter((t) => t.status === \"closed\" && t.pnl > 0).length || 1)).toFixed(0)}</p>\n                <p>‚Ä¢ Average Loss: ‚Çπ{(Math.abs(trades.filter((t) => t.status === \"closed\" && t.pnl < 0).reduce((sum, t) => sum + t.pnl, 0)) / (trades.filter((t) => t.status === \"closed\" && t.pnl < 0).length || 1)).toFixed(0)}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Empty State */}\n      {trades.length === 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">No trades yet</p>\n          <p className=\"text-gray-400\">Open your first paper trade to practice trading strategies</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}