{"ast":null,"code":"var _jsxFileName = \"/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signals() {\n  _s();\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore(s => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n  useEffect(() => {\n    // Update market status\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      var _response$data;\n      let response;\n      try {\n        response = activeTab === \"intraday\" ? await intradayApi.getIntradaySignals() : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        console.error(\"API Error fetching signals:\", err);\n        // Fallback to empty array if API fails\n        response = {\n          data: []\n        };\n      }\n\n      // Enhance signals with calculated risk/reward\n      const signalList = Array.isArray(response.data) ? response.data : ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results) || [];\n      const enhancedSignals = (signalList || []).map(signal => ({\n        ...signal,\n        riskReward: signal.entry_price && signal.target_1 && signal.stop_loss ? riskManagement.calculateRiskReward(signal.entry_price, signal.target_1, signal.stop_loss) : 0,\n        expectedProfit: signal.entry_price && signal.target_1 ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2) : 0,\n        expectedLoss: signal.entry_price && signal.stop_loss ? ((signal.stop_loss - signal.entry_price) / signal.entry_price * 100).toFixed(2) : 0,\n        pnlData: signal.entry_price && signal.target_1 && signal.stop_loss ? riskManagement.calculatePnL(defaultCapital, signal.entry_price, [signal.target_1, signal.target_2, signal.target_3], signal.stop_loss) : null\n      }));\n      setSignals(enhancedSignals);\n      if (enhancedSignals.length === 0) {\n        toast.info(\"No signals available. Generate recommendations from Stock Analysis page.\");\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Signal fetch error:\", error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || \"Failed to fetch signals\");\n      setSignals([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getSignalColor = signal => {\n    switch (signal) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50 border-green-300\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50 border-red-300\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50 border-yellow-300\";\n      default:\n        return \"text-gray-600 bg-gray-50 border-gray-300\";\n    }\n  };\n  const getSignalIcon = signal => {\n    switch (signal) {\n      case \"BUY\":\n        return \"üü¢\";\n      case \"SELL\":\n        return \"üî¥\";\n      case \"HOLD\":\n        return \"üü°\";\n      default:\n        return \"‚ö™\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [marketOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border-l-4 border-green-400 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold text-green-900\",\n        children: \"\\uD83D\\uDFE2 Market Open - Live Signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-green-700 mt-1\",\n        children: \"Showing real-time signals with calculated risk/reward\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border-l-4 border-blue-400 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold text-blue-900\",\n        children: \"\\uD83D\\uDCCA Market Closed - Analysis Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-blue-700 mt-1\",\n        children: \"Showing historical signals and last available analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-2\",\n        children: \"Capital for Risk Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: defaultCapital,\n        onChange: e => setDefaultCapital(parseInt(e.target.value)),\n        placeholder: \"\\u20B9100,000\",\n        min: \"1000\",\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Used to calculate position sizing and expected P&L\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"all\"),\n        className: `px-4 py-2 rounded-lg font-medium transition ${activeTab === \"all\" ? \"bg-primary text-white\" : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"}`,\n        children: \"All Signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"intraday\"),\n        className: `px-4 py-2 rounded-lg font-medium transition ${activeTab === \"intraday\" ? \"bg-primary text-white\" : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"}`,\n        children: \"\\u26A1 Intraday\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin text-4xl\",\n        children: \"\\u23F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-4\",\n        children: \"Loading signals...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this) : signals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-12 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-lg\",\n        children: \"No signals available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"Generate a recommendation to see signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: signals.map(signal => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-lg shadow-md p-6 border-l-4 ${getSignalColor(signal.signal)}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold\",\n              children: [getSignalIcon(signal.signal), \" \", signal.stock_symbol]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: signal.created_at\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-bold bg-white bg-opacity-70 px-3 py-1 rounded\",\n            children: signal.signal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-2 mb-4 pb-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Entry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.entry_price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Stop Loss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.stop_loss]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Target 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.target_1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-3 mb-4 pb-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-3 rounded text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Risk/Reward\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-blue-600\",\n              children: [\"1:\", signal.riskReward]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-3 rounded text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Win Probability\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-purple-600\",\n              children: [signal.win_probability, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-100 bg-opacity-50 p-3 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Expected Profit (if target)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-green-700\",\n              children: [signal.expectedProfit, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 bg-opacity-50 p-3 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Max Loss (if stopped)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-red-700\",\n              children: [signal.expectedLoss, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this), signal.pnlData && signal.pnlData.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-100 bg-opacity-50 p-3 rounded mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Position Size (1% Rule)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold\",\n              children: [signal.pnlData.position, \" units\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700\",\n              children: [\"Max Risk: \\u20B9\", signal.pnlData.maxRisk.toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this), selectedMode === \"pro\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white bg-opacity-60 p-3 rounded border-t pt-3 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs font-semibold text-gray-700 mb-2\",\n            children: \"Advanced Metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-2 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Target 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: [\"\\u20B9\", signal.target_2]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Target 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: [\"\\u20B9\", signal.target_3]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full mt-4 bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium disabled:opacity-50\",\n          disabled: !marketOpen,\n          children: marketOpen ? \"Execute Trade\" : \"Market Closed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 15\n        }, this)]\n      }, signal.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(Signals, \"oet/utOC+QLthnkguGd3D4FONSc=\", false, function () {\n  return [useTradingStore];\n});\n_c = Signals;\nvar _c;\n$RefreshReg$(_c, \"Signals\");","map":{"version":3,"names":["React","useState","useEffect","intradayApi","recommendationApi","useTradingStore","toast","riskManagement","marketStatus","formatters","jsxDEV","_jsxDEV","Signals","_s","signals","setSignals","isLoading","setIsLoading","activeTab","setActiveTab","selectedMode","s","marketOpen","setMarketOpen","defaultCapital","setDefaultCapital","fetchSignals","updateMarketStatus","isMarketOpen","timer","setInterval","clearInterval","_response$data","response","getIntradaySignals","getActiveSignals","err","console","error","data","signalList","Array","isArray","results","enhancedSignals","map","signal","riskReward","entry_price","target_1","stop_loss","calculateRiskReward","expectedProfit","toFixed","expectedLoss","pnlData","calculatePnL","target_2","target_3","length","info","_error$response","_error$response$data","detail","getSignalColor","getSignalIcon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","parseInt","target","placeholder","min","onClick","stock_symbol","created_at","win_probability","valid","position","maxRisk","disabled","id","_c","$RefreshReg$"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\n\nexport default function Signals() {\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore((s) => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n\n  useEffect(() => {\n    // Update market status\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      let response;\n      try {\n        response =\n          activeTab === \"intraday\"\n            ? await intradayApi.getIntradaySignals()\n            : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        console.error(\"API Error fetching signals:\", err);\n        // Fallback to empty array if API fails\n        response = { data: [] };\n      }\n\n      // Enhance signals with calculated risk/reward\n      const signalList = Array.isArray(response.data) ? response.data : response.data?.results || [];\n      const enhancedSignals = (signalList || []).map(signal => ({\n        ...signal,\n        riskReward: signal.entry_price && signal.target_1 && signal.stop_loss\n          ? riskManagement.calculateRiskReward(signal.entry_price, signal.target_1, signal.stop_loss)\n          : 0,\n        expectedProfit: signal.entry_price && signal.target_1\n          ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2)\n          : 0,\n        expectedLoss: signal.entry_price && signal.stop_loss\n          ? ((signal.stop_loss - signal.entry_price) / signal.entry_price * 100).toFixed(2)\n          : 0,\n        pnlData: signal.entry_price && signal.target_1 && signal.stop_loss\n          ? riskManagement.calculatePnL(\n              defaultCapital,\n              signal.entry_price,\n              [signal.target_1, signal.target_2, signal.target_3],\n              signal.stop_loss\n            )\n          : null\n      }));\n\n      setSignals(enhancedSignals);\n\n      if (enhancedSignals.length === 0) {\n        toast.info(\"No signals available. Generate recommendations from Stock Analysis page.\");\n      }\n    } catch (error) {\n      console.error(\"Signal fetch error:\", error);\n      toast.error(error.response?.data?.detail || \"Failed to fetch signals\");\n      setSignals([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSignalColor = (signal) => {\n    switch (signal) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50 border-green-300\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50 border-red-300\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50 border-yellow-300\";\n      default:\n        return \"text-gray-600 bg-gray-50 border-gray-300\";\n    }\n  };\n\n  const getSignalIcon = (signal) => {\n    switch (signal) {\n      case \"BUY\":\n        return \"üü¢\";\n      case \"SELL\":\n        return \"üî¥\";\n      case \"HOLD\":\n        return \"üü°\";\n      default:\n        return \"‚ö™\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Market Status Banner */}\n      {marketOpen ? (\n        <div className=\"bg-green-50 border-l-4 border-green-400 rounded-lg p-4\">\n          <p className=\"font-semibold text-green-900\">üü¢ Market Open - Live Signals</p>\n          <p className=\"text-sm text-green-700 mt-1\">Showing real-time signals with calculated risk/reward</p>\n        </div>\n      ) : (\n        <div className=\"bg-blue-50 border-l-4 border-blue-400 rounded-lg p-4\">\n          <p className=\"font-semibold text-blue-900\">üìä Market Closed - Analysis Mode</p>\n          <p className=\"text-sm text-blue-700 mt-1\">Showing historical signals and last available analysis</p>\n        </div>\n      )}\n\n      {/* Capital Input */}\n      <div className=\"bg-white rounded-lg shadow-md p-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Capital for Risk Calculation</label>\n        <input\n          type=\"number\"\n          value={defaultCapital}\n          onChange={(e) => setDefaultCapital(parseInt(e.target.value))}\n          placeholder=\"‚Çπ100,000\"\n          min=\"1000\"\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">Used to calculate position sizing and expected P&L</p>\n      </div>\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setActiveTab(\"all\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"all\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          All Signals\n        </button>\n        <button\n          onClick={() => setActiveTab(\"intraday\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"intraday\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          ‚ö° Intraday\n        </button>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-block animate-spin text-4xl\">‚è≥</div>\n          <p className=\"text-gray-600 mt-4\">Loading signals...</p>\n        </div>\n      ) : signals.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">No signals available</p>\n          <p className=\"text-gray-400\">Generate a recommendation to see signals</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {signals.map((signal) => (\n            <div\n              key={signal.id}\n              className={`rounded-lg shadow-md p-6 border-l-4 ${getSignalColor(signal.signal)}`}\n            >\n              {/* Header */}\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-2xl font-bold\">{getSignalIcon(signal.signal)} {signal.stock_symbol}</h3>\n                  <p className=\"text-sm text-gray-600\">{signal.created_at}</p>\n                </div>\n                <span className=\"text-xl font-bold bg-white bg-opacity-70 px-3 py-1 rounded\">\n                  {signal.signal}\n                </span>\n              </div>\n\n              {/* Price Information */}\n              <div className=\"grid grid-cols-3 gap-2 mb-4 pb-4 border-b\">\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Entry</p>\n                  <p className=\"font-bold\">‚Çπ{signal.entry_price}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Stop Loss</p>\n                  <p className=\"font-bold\">‚Çπ{signal.stop_loss}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Target 1</p>\n                  <p className=\"font-bold\">‚Çπ{signal.target_1}</p>\n                </div>\n              </div>\n\n              {/* Risk/Reward & Probability */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4 pb-4 border-b\">\n                <div className=\"bg-white bg-opacity-60 p-3 rounded text-center\">\n                  <p className=\"text-xs text-gray-600\">Risk/Reward</p>\n                  <p className=\"text-lg font-bold text-blue-600\">1:{signal.riskReward}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-3 rounded text-center\">\n                  <p className=\"text-xs text-gray-600\">Win Probability</p>\n                  <p className=\"text-lg font-bold text-purple-600\">{signal.win_probability}%</p>\n                </div>\n              </div>\n\n              {/* Expected P&L */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                <div className=\"bg-green-100 bg-opacity-50 p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Expected Profit (if target)</p>\n                  <p className=\"text-lg font-bold text-green-700\">{signal.expectedProfit}%</p>\n                </div>\n                <div className=\"bg-red-100 bg-opacity-50 p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Max Loss (if stopped)</p>\n                  <p className=\"text-lg font-bold text-red-700\">{signal.expectedLoss}%</p>\n                </div>\n              </div>\n\n              {/* Position Sizing */}\n              {signal.pnlData && signal.pnlData.valid && (\n                <div className=\"bg-blue-100 bg-opacity-50 p-3 rounded mb-4\">\n                  <p className=\"text-xs text-gray-600\">Position Size (1% Rule)</p>\n                  <div className=\"flex justify-between items-center mt-2\">\n                    <span className=\"font-bold\">{signal.pnlData.position} units</span>\n                    <span className=\"text-sm text-gray-700\">Max Risk: ‚Çπ{signal.pnlData.maxRisk.toFixed(0)}</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Pro Mode: Detailed Metrics */}\n              {selectedMode === \"pro\" && (\n                <div className=\"bg-white bg-opacity-60 p-3 rounded border-t pt-3 mt-3\">\n                  <p className=\"text-xs font-semibold text-gray-700 mb-2\">Advanced Metrics</p>\n                  <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                    <div>\n                      <p className=\"text-gray-600\">Target 2</p>\n                      <p className=\"font-bold\">‚Çπ{signal.target_2}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-gray-600\">Target 3</p>\n                      <p className=\"font-bold\">‚Çπ{signal.target_3}</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Action Button */}\n              <button className=\"w-full mt-4 bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium disabled:opacity-50\"\n                disabled={!marketOpen}>\n                {marketOpen ? \"Execute Trade\" : \"Market Closed\"}\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}