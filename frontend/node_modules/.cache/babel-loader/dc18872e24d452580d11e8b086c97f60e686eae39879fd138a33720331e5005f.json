{"ast":null,"code":"import React,{useEffect}from\"react\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import{Toaster}from\"react-hot-toast\";import Login from\"./pages/Login\";import Dashboard from\"./pages/Dashboard\";import StockAnalysis from\"./pages/StockAnalysis\";import Signals from\"./pages/Signals\";import Intraday from\"./pages/Intraday\";import PaperTrading from\"./pages/PaperTrading\";import PatternScanner from\"./pages/PatternScanner\";import MainLayout from\"./layouts/MainLayout\";import{useAuthStore}from\"./store\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const setTokens=useAuthStore(s=>s.setTokens);const setUser=useAuthStore(s=>s.setUser);// Restore authentication on app load from localStorage\nuseEffect(()=>{const storedAccessToken=localStorage.getItem(\"access_token\");const storedRefreshToken=localStorage.getItem(\"refresh_token\");const storedUser=localStorage.getItem(\"user\");if(storedAccessToken&&storedRefreshToken){setTokens(storedAccessToken,storedRefreshToken);if(storedUser){try{setUser(JSON.parse(storedUser));}catch(e){console.error(\"Failed to parse stored user\");}}}},[setTokens,setUser]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(MainLayout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/analysis\",element:/*#__PURE__*/_jsx(StockAnalysis,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signals\",element:/*#__PURE__*/_jsx(Signals,{})}),/*#__PURE__*/_jsx(Route,{path:\"/intraday\",element:/*#__PURE__*/_jsx(Intraday,{})}),/*#__PURE__*/_jsx(Route,{path:\"/paper-trading\",element:/*#__PURE__*/_jsx(PaperTrading,{})}),/*#__PURE__*/_jsx(Route,{path:\"/scanner\",element:/*#__PURE__*/_jsx(PatternScanner,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]});}","map":{"version":3,"names":["React","useEffect","BrowserRouter","Routes","Route","Navigate","Toaster","Login","Dashboard","StockAnalysis","Signals","Intraday","PaperTrading","PatternScanner","MainLayout","useAuthStore","jsx","_jsx","jsxs","_jsxs","App","setTokens","s","setUser","storedAccessToken","localStorage","getItem","storedRefreshToken","storedUser","JSON","parse","e","console","error","children","path","element","to","position"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { Toaster } from \"react-hot-toast\";\nimport Login from \"./pages/Login\";\nimport Dashboard from \"./pages/Dashboard\";\nimport StockAnalysis from \"./pages/StockAnalysis\";\nimport Signals from \"./pages/Signals\";\nimport Intraday from \"./pages/Intraday\";\nimport PaperTrading from \"./pages/PaperTrading\";\nimport PatternScanner from \"./pages/PatternScanner\";\nimport MainLayout from \"./layouts/MainLayout\";\nimport { useAuthStore } from \"./store\";\nimport \"./index.css\";\n\nexport default function App() {\n  const setTokens = useAuthStore((s) => s.setTokens);\n  const setUser = useAuthStore((s) => s.setUser);\n\n  // Restore authentication on app load from localStorage\n  useEffect(() => {\n    const storedAccessToken = localStorage.getItem(\"access_token\");\n    const storedRefreshToken = localStorage.getItem(\"refresh_token\");\n    const storedUser = localStorage.getItem(\"user\");\n\n    if (storedAccessToken && storedRefreshToken) {\n      setTokens(storedAccessToken, storedRefreshToken);\n      if (storedUser) {\n        try {\n          setUser(JSON.parse(storedUser));\n        } catch (e) {\n          console.error(\"Failed to parse stored user\");\n        }\n      }\n    }\n  }, [setTokens, setUser]);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/login\" element={<Login />} />\n\n        <Route element={<MainLayout />}>\n          <Route path=\"/dashboard\" element={<Dashboard />} />\n          <Route path=\"/analysis\" element={<StockAnalysis />} />\n          <Route path=\"/signals\" element={<Signals />} />\n          <Route path=\"/intraday\" element={<Intraday />} />\n          <Route path=\"/paper-trading\" element={<PaperTrading />} />\n          <Route path=\"/scanner\" element={<PatternScanner />} />\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n        </Route>\n\n        <Route path=\"*\" element={<Navigate to=\"/dashboard\" />} />\n      </Routes>\n\n      <Toaster position=\"top-right\" />\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}