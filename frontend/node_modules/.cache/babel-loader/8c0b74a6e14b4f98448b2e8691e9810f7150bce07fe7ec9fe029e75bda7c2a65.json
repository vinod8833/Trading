{"ast":null,"code":"var _jsxFileName = \"/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"../components/ui/Card\";\nimport { Button } from \"../components/ui/Button\";\nimport { Badge, Stat, Progress } from \"../components/ui/Common\";\nimport { Tabs } from \"../components/ui/Layouts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signals() {\n  _s();\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore(s => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n  const [selectedSignal, setSelectedSignal] = useState(null);\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n  useEffect(() => {\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      var _response$data;\n      let response;\n      try {\n        response = activeTab === \"intraday\" ? await intradayApi.getIntradaySignals() : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error(\"API Error fetching signals:\", err);\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n          toast.error(\"Signals not found. Generate analysis first.\");\n        } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n          toast.error(\"Session expired. Please login again.\");\n        }\n        response = {\n          data: []\n        };\n      }\n      const signalList = Array.isArray(response.data) ? response.data : ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results) || [];\n      const enhancedSignals = (signalList || []).map(signal => {\n        const hasValidPrices = signal.entry_price && signal.target_1 && signal.stop_loss;\n        return {\n          ...signal,\n          market_status: marketOpen ? \"LIVE\" : \"HISTORICAL\",\n          riskReward: hasValidPrices ? riskManagement.calculateRiskReward(signal.entry_price, signal.target_1, signal.stop_loss) : 0,\n          expectedProfit: signal.entry_price && signal.target_1 ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2) : 0\n        };\n      });\n      setSignals(enhancedSignals);\n      if (enhancedSignals.length === 0) {\n        toast.info(\"No signals available. Generate some analysis first!\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getSignalTypeColor = type => {\n    return type === \"BUY\" ? \"success\" : \"danger\";\n  };\n  const getConfidenceColor = confidence => {\n    if (confidence >= 80) return \"success\";\n    if (confidence >= 60) return \"warning\";\n    return \"danger\";\n  };\n  const filteredSignals = signals.filter(signal => {\n    if (activeTab === \"buy\") return signal.signal_type === \"BUY\";\n    if (activeTab === \"sell\") return signal.signal_type === \"SELL\";\n    return true;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 animate-fade-in-up\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"Trade Signals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-1\",\n          children: \"AI-powered trading signals and recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: fetchSignals,\n          isLoading: isLoading,\n          variant: \"primary\",\n          children: \"\\uD83D\\uDD04 Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          children: \"\\uD83D\\uDCE5 Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Stat, {\n        label: \"Total Signals\",\n        value: signals.length,\n        change: `${signals.filter(s => s.signal_type === 'BUY').length} Buy`,\n        icon: \"\\uD83D\\uDCCA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        label: \"Buy Signals\",\n        value: signals.filter(s => s.signal_type === \"BUY\").length,\n        change: `${(signals.filter(s => s.signal_type === \"BUY\").length / signals.length * 100 || 0).toFixed(0)}%`,\n        changeType: \"up\",\n        icon: \"\\uD83D\\uDCC8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        label: \"Sell Signals\",\n        value: signals.filter(s => s.signal_type === \"SELL\").length,\n        change: `${(signals.filter(s => s.signal_type === \"SELL\").length / signals.length * 100 || 0).toFixed(0)}%`,\n        changeType: \"down\",\n        icon: \"\\uD83D\\uDCC9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        label: \"Avg Confidence\",\n        value: `${(signals.reduce((a, s) => a + (s.confidence || 0), 0) / signals.length || 0).toFixed(0)}%`,\n        icon: \"\\uD83C\\uDFAF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      tabs: [{\n        id: \"all\",\n        label: `All Signals (${signals.length})`,\n        icon: \"üìä\"\n      }, {\n        id: \"buy\",\n        label: `Buy (${signals.filter(s => s.signal_type === \"BUY\").length})`,\n        icon: \"üìà\"\n      }, {\n        id: \"sell\",\n        label: `Sell (${signals.filter(s => s.signal_type === \"SELL\").length})`,\n        icon: \"üìâ\"\n      }, {\n        id: \"intraday\",\n        label: \"Intraday\",\n        icon: \"‚ö°\"\n      }],\n      activeTab: activeTab,\n      onTabChange: setActiveTab\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Card, {\n        className: \"text-center py-12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading signals...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this) : filteredSignals.length > 0 ? filteredSignals.map((signal, index) => {\n        var _signal$entry_price, _signal$target_, _signal$stop_loss, _signal$riskReward;\n        return /*#__PURE__*/_jsxDEV(Card, {\n          className: \"hover:shadow-md transition cursor-pointer\",\n          onClick: () => setSelectedSignal((selectedSignal === null || selectedSignal === void 0 ? void 0 : selectedSignal.stock_symbol) === signal.stock_symbol ? null : signal),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-6 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:col-span-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 uppercase font-semibold\",\n                children: \"Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900 mt-1\",\n                children: signal.stock_symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                variant: getSignalTypeColor(signal.signal_type),\n                className: \"mt-2\",\n                children: signal.signal_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:col-span-2 grid grid-cols-3 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 uppercase font-semibold\",\n                  children: \"Entry\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-gray-900 mt-1\",\n                  children: [\"\\u20B9\", (_signal$entry_price = signal.entry_price) === null || _signal$entry_price === void 0 ? void 0 : _signal$entry_price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 uppercase font-semibold\",\n                  children: \"Target\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-green-600 mt-1\",\n                  children: [\"\\u20B9\", (_signal$target_ = signal.target_1) === null || _signal$target_ === void 0 ? void 0 : _signal$target_.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-green-600 mt-0.5\",\n                  children: [\"+\", signal.expectedProfit, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 uppercase font-semibold\",\n                  children: \"Stop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-red-600 mt-1\",\n                  children: [\"\\u20B9\", (_signal$stop_loss = signal.stop_loss) === null || _signal$stop_loss === void 0 ? void 0 : _signal$stop_loss.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 uppercase font-semibold mb-2\",\n                    children: \"Confidence\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Progress, {\n                    value: signal.confidence || 0,\n                    className: \"text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 uppercase font-semibold mb-1\",\n                    children: \"R:R Ratio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xl font-bold text-blue-600\",\n                    children: [\"1:\", (_signal$riskReward = signal.riskReward) === null || _signal$riskReward === void 0 ? void 0 : _signal$riskReward.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:col-span-1 flex items-end justify-end gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"primary\",\n                onClick: e => {\n                  e.stopPropagation();\n                  toast.success(`Added ${signal.stock_symbol} to watchlist`);\n                },\n                children: \"\\u2B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline\",\n                onClick: e => {\n                  e.stopPropagation();\n                  toast.success(`Copied signal details`);\n                },\n                children: \"\\uD83D\\uDCCB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), (selectedSignal === null || selectedSignal === void 0 ? void 0 : selectedSignal.stock_symbol) === signal.stock_symbol && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 pt-4 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-medium\",\n                  children: \"Time Horizon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold text-gray-900 mt-1\",\n                  children: signal.time_horizon || \"Medium-term\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-medium\",\n                  children: \"Signal Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold text-gray-900 mt-1\",\n                  children: signal.signal_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-medium\",\n                  children: \"Market Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: signal.market_status === \"LIVE\" ? \"success\" : \"warning\",\n                  children: signal.market_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Card, {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600 mb-2\",\n          children: \"\\uD83D\\uDCED No signals yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Generate some stock analyses to get trading signals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mt-4\",\n          onClick: () => window.location.href = \"/dashboard\",\n          children: \"Go to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(Signals, \"PjaXBWdByZuup3ZCPEHm+HKgZeA=\", false, function () {\n  return [useTradingStore];\n});\n_c = Signals;\nvar _c;\n$RefreshReg$(_c, \"Signals\");","map":{"version":3,"names":["React","useState","useEffect","intradayApi","recommendationApi","useTradingStore","toast","riskManagement","marketStatus","formatters","Card","CardHeader","CardTitle","CardContent","Button","Badge","Stat","Progress","Tabs","jsxDEV","_jsxDEV","Signals","_s","signals","setSignals","isLoading","setIsLoading","activeTab","setActiveTab","selectedMode","s","marketOpen","setMarketOpen","defaultCapital","setDefaultCapital","selectedSignal","setSelectedSignal","fetchSignals","updateMarketStatus","isMarketOpen","timer","setInterval","clearInterval","_response$data","response","getIntradaySignals","getActiveSignals","err","_err$response","_err$response2","console","error","status","data","signalList","Array","isArray","results","enhancedSignals","map","signal","hasValidPrices","entry_price","target_1","stop_loss","market_status","riskReward","calculateRiskReward","expectedProfit","toFixed","length","info","getSignalTypeColor","type","getConfidenceColor","confidence","filteredSignals","filter","signal_type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","label","value","change","icon","changeType","reduce","a","tabs","id","onTabChange","index","_signal$entry_price","_signal$target_","_signal$stop_loss","_signal$riskReward","stock_symbol","size","e","stopPropagation","success","time_horizon","window","location","href","_c","$RefreshReg$"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"../components/ui/Card\";\nimport { Button } from \"../components/ui/Button\";\nimport { Badge, Stat, Progress } from \"../components/ui/Common\";\nimport { Tabs } from \"../components/ui/Layouts\";\n\nexport default function Signals() {\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore((s) => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n  const [selectedSignal, setSelectedSignal] = useState(null);\n\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n\n  useEffect(() => {\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      let response;\n      try {\n        response =\n          activeTab === \"intraday\"\n            ? await intradayApi.getIntradaySignals()\n            : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        console.error(\"API Error fetching signals:\", err);\n\n        if (err.response?.status === 404) {\n          toast.error(\"Signals not found. Generate analysis first.\");\n        } else if (err.response?.status === 401) {\n          toast.error(\"Session expired. Please login again.\");\n        }\n\n        response = { data: [] };\n      }\n\n      const signalList = Array.isArray(response.data)\n        ? response.data\n        : response.data?.results || [];\n\n      const enhancedSignals = (signalList || []).map((signal) => {\n        const hasValidPrices = signal.entry_price && signal.target_1 && signal.stop_loss;\n\n        return {\n          ...signal,\n          market_status: marketOpen ? \"LIVE\" : \"HISTORICAL\",\n          riskReward: hasValidPrices\n            ? riskManagement.calculateRiskReward(\n                signal.entry_price,\n                signal.target_1,\n                signal.stop_loss\n              )\n            : 0,\n          expectedProfit: signal.entry_price && signal.target_1\n            ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2)\n            : 0,\n        };\n      });\n\n      setSignals(enhancedSignals);\n      if (enhancedSignals.length === 0) {\n        toast.info(\"No signals available. Generate some analysis first!\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSignalTypeColor = (type) => {\n    return type === \"BUY\" ? \"success\" : \"danger\";\n  };\n\n  const getConfidenceColor = (confidence) => {\n    if (confidence >= 80) return \"success\";\n    if (confidence >= 60) return \"warning\";\n    return \"danger\";\n  };\n\n  const filteredSignals = signals.filter((signal) => {\n    if (activeTab === \"buy\") return signal.signal_type === \"BUY\";\n    if (activeTab === \"sell\") return signal.signal_type === \"SELL\";\n    return true;\n  });\n\n  return (\n    <div className=\"space-y-6 animate-fade-in-up\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Trade Signals</h1>\n          <p className=\"text-gray-600 mt-1\">AI-powered trading signals and recommendations</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button onClick={fetchSignals} isLoading={isLoading} variant=\"primary\">\n            üîÑ Refresh\n          </Button>\n          <Button variant=\"secondary\">üì• Export</Button>\n        </div>\n      </div>\n\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Stat\n          label=\"Total Signals\"\n          value={signals.length}\n          change={`${signals.filter(s => s.signal_type === 'BUY').length} Buy`}\n          icon=\"üìä\"\n        />\n        <Stat\n          label=\"Buy Signals\"\n          value={signals.filter(s => s.signal_type === \"BUY\").length}\n          change={`${(signals.filter(s => s.signal_type === \"BUY\").length / signals.length * 100 || 0).toFixed(0)}%`}\n          changeType=\"up\"\n          icon=\"üìà\"\n        />\n        <Stat\n          label=\"Sell Signals\"\n          value={signals.filter(s => s.signal_type === \"SELL\").length}\n          change={`${(signals.filter(s => s.signal_type === \"SELL\").length / signals.length * 100 || 0).toFixed(0)}%`}\n          changeType=\"down\"\n          icon=\"üìâ\"\n        />\n        <Stat\n          label=\"Avg Confidence\"\n          value={`${(signals.reduce((a, s) => a + (s.confidence || 0), 0) / signals.length || 0).toFixed(0)}%`}\n          icon=\"üéØ\"\n        />\n      </div>\n\n      {/* Tabs */}\n      <Tabs\n        tabs={[\n          { id: \"all\", label: `All Signals (${signals.length})`, icon: \"üìä\" },\n          { id: \"buy\", label: `Buy (${signals.filter(s => s.signal_type === \"BUY\").length})`, icon: \"üìà\" },\n          { id: \"sell\", label: `Sell (${signals.filter(s => s.signal_type === \"SELL\").length})`, icon: \"üìâ\" },\n          { id: \"intraday\", label: \"Intraday\", icon: \"‚ö°\" },\n        ]}\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n      />\n\n      {/* Signals List */}\n      <div className=\"space-y-4\">\n        {isLoading ? (\n          <Card className=\"text-center py-12\">\n            <p className=\"text-gray-600\">Loading signals...</p>\n          </Card>\n        ) : filteredSignals.length > 0 ? (\n          filteredSignals.map((signal, index) => (\n            <Card\n              key={index}\n              className=\"hover:shadow-md transition cursor-pointer\"\n              onClick={() => setSelectedSignal(selectedSignal?.stock_symbol === signal.stock_symbol ? null : signal)}\n            >\n              <div className=\"grid grid-cols-1 lg:grid-cols-6 gap-4\">\n                {/* Stock Info */}\n                <div className=\"lg:col-span-1\">\n                  <p className=\"text-xs text-gray-500 uppercase font-semibold\">Stock</p>\n                  <p className=\"text-2xl font-bold text-gray-900 mt-1\">\n                    {signal.stock_symbol}\n                  </p>\n                  <Badge variant={getSignalTypeColor(signal.signal_type)} className=\"mt-2\">\n                    {signal.signal_type}\n                  </Badge>\n                </div>\n\n                {/* Price Details */}\n                <div className=\"lg:col-span-2 grid grid-cols-3 gap-3\">\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase font-semibold\">Entry</p>\n                    <p className=\"text-lg font-bold text-gray-900 mt-1\">\n                      ‚Çπ{signal.entry_price?.toFixed(2)}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase font-semibold\">Target</p>\n                    <p className=\"text-lg font-bold text-green-600 mt-1\">\n                      ‚Çπ{signal.target_1?.toFixed(2)}\n                    </p>\n                    <p className=\"text-xs text-green-600 mt-0.5\">\n                      +{signal.expectedProfit}%\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase font-semibold\">Stop</p>\n                    <p className=\"text-lg font-bold text-red-600 mt-1\">\n                      ‚Çπ{signal.stop_loss?.toFixed(2)}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Confidence & Risk/Reward */}\n                <div className=\"lg:col-span-2\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <p className=\"text-xs text-gray-500 uppercase font-semibold mb-2\">Confidence</p>\n                      <Progress\n                        value={signal.confidence || 0}\n                        className=\"text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">R:R Ratio</p>\n                      <p className=\"text-2xl font-bold text-blue-600\">\n                        1:{signal.riskReward?.toFixed(2)}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"lg:col-span-1 flex items-end justify-end gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"primary\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      toast.success(`Added ${signal.stock_symbol} to watchlist`);\n                    }}\n                  >\n                    ‚≠ê\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      toast.success(`Copied signal details`);\n                    }}\n                  >\n                    üìã\n                  </Button>\n                </div>\n              </div>\n\n              {/* Expanded Details */}\n              {selectedSignal?.stock_symbol === signal.stock_symbol && (\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-600 font-medium\">Time Horizon</p>\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\n                        {signal.time_horizon || \"Medium-term\"}\n                      </p>\n                    </div>\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-600 font-medium\">Signal Type</p>\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\n                        {signal.signal_type}\n                      </p>\n                    </div>\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-600 font-medium\">Market Status</p>\n                      <Badge variant={signal.market_status === \"LIVE\" ? \"success\" : \"warning\"}>\n                        {signal.market_status}\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </Card>\n          ))\n        ) : (\n          <Card className=\"text-center py-12\">\n            <p className=\"text-xl text-gray-600 mb-2\">üì≠ No signals yet</p>\n            <p className=\"text-gray-500\">Generate some stock analyses to get trading signals</p>\n            <Button className=\"mt-4\" onClick={() => window.location.href = \"/dashboard\"}>\n              Go to Dashboard\n            </Button>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}