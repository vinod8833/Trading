{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{portfolioApi,recommendationApi}from\"../api/endpoints\";import toast from\"react-hot-toast\";import{PieChart,Pie,Cell,LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Portfolio(){var _selectedPortfolio$to,_selectedPortfolio$in,_ref,_selectedPortfolio$to2;const[portfolios,setPortfolios]=useState([]);const[selectedPortfolio,setSelectedPortfolio]=useState(null);const[isLoading,setIsLoading]=useState(false);const[showCreateForm,setShowCreateForm]=useState(false);const[newPortfolioName,setNewPortfolioName]=useState(\"\");const[addCapitalAmount,setAddCapitalAmount]=useState(\"\");const COLORS=[\"#0088FE\",\"#00C49F\",\"#FFBB28\",\"#FF8042\",\"#8884D8\"];useEffect(()=>{fetchPortfolios();},[]);const fetchPortfolios=async()=>{setIsLoading(true);try{const response=await portfolioApi.getPortfolios();setPortfolios(response.data);if(response.data.length>0){setSelectedPortfolio(response.data[0]);}}catch(error){toast.error(\"Failed to fetch portfolios\");console.error(error);}finally{setIsLoading(false);}};const handleCreatePortfolio=async e=>{e.preventDefault();try{await portfolioApi.createPortfolio({name:newPortfolioName});toast.success(\"Portfolio created!\");setNewPortfolioName(\"\");setShowCreateForm(false);fetchPortfolios();}catch(error){toast.error(\"Failed to create portfolio\");console.error(error);}};const handleAddCapital=async e=>{e.preventDefault();if(!selectedPortfolio)return;try{await portfolioApi.addCapital(selectedPortfolio.id,parseFloat(addCapitalAmount));toast.success(\"Capital added!\");setAddCapitalAmount(\"\");fetchPortfolios();}catch(error){toast.error(\"Failed to add capital\");console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Portfolio Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Track your investments and positions\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateForm(!showCreateForm),className:\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"\\u2795 New Portfolio\"})]})}),showCreateForm&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreatePortfolio,className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPortfolioName,onChange:e=>setNewPortfolioName(e.target.value),placeholder:\"Portfolio name (e.g., My Trading Account)\",className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-primary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"Create\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowCreateForm(false),className:\"bg-gray-300 text-gray-700 font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"Cancel\"})]})}),portfolios.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto pb-2\",children:portfolios.map(portfolio=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedPortfolio(portfolio),className:\"px-4 py-2 rounded-lg font-medium transition whitespace-nowrap \".concat((selectedPortfolio===null||selectedPortfolio===void 0?void 0:selectedPortfolio.id)===portfolio.id?\"bg-primary text-white\":\"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"),children:[\"\\uD83D\\uDCBC \",portfolio.name]},portfolio.id))}),selectedPortfolio&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Capital\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:[\"\\u20B9\",(_selectedPortfolio$to=selectedPortfolio.total_capital)===null||_selectedPortfolio$to===void 0?void 0:_selectedPortfolio$to.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Invested Amount\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:[\"\\u20B9\",(_selectedPortfolio$in=selectedPortfolio.invested_amount)===null||_selectedPortfolio$in===void 0?void 0:_selectedPortfolio$in.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Cash Available\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-600\",children:[\"\\u20B9\",(_ref=selectedPortfolio.total_capital-selectedPortfolio.invested_amount)===null||_ref===void 0?void 0:_ref.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Returns\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(selectedPortfolio.total_returns>=0?\"text-green-600\":\"text-red-600\"),children:[selectedPortfolio.total_returns>=0?\"+\":\"\",(_selectedPortfolio$to2=selectedPortfolio.total_returns)===null||_selectedPortfolio$to2===void 0?void 0:_selectedPortfolio$to2.toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Add Capital\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddCapital,className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:addCapitalAmount,onChange:e=>setAddCapitalAmount(e.target.value),placeholder:\"Amount to add (\\u20B9)\",className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:\"Add Funds\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Open Positions\"}),selectedPortfolio.positions&&selectedPortfolio.positions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Entry Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Current Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"P&L %\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:selectedPortfolio.positions.map(position=>{const pnl=position.current_price-position.entry_price;const pnlPercent=pnl/position.entry_price*100;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 font-semibold text-gray-900\",children:position.stock_symbol}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-700\",children:position.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-gray-700\",children:[\"\\u20B9\",position.entry_price]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-gray-700\",children:[\"\\u20B9\",position.current_price]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 font-semibold \".concat(pnl>=0?\"text-green-600\":\"text-red-600\"),children:[pnl>=0?\"+\":\"\",\"\\u20B9\",pnl.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 font-semibold \".concat(pnlPercent>=0?\"text-green-600\":\"text-red-600\"),children:[pnlPercent>=0?\"+\":\"\",pnlPercent.toFixed(2),\"%\"]})]},position.id);})})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No open positions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Portfolio Performance\"}),selectedPortfolio.performance_history&&selectedPortfolio.performance_history.length>0?/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:selectedPortfolio.performance_history,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\\u20B9\".concat(value.toLocaleString())}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"value\",stroke:\"#0088FE\",dot:false,name:\"Portfolio Value\"})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No performance data available yet\"})]})]}),portfolios.length===0&&!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"No portfolios yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Create your first portfolio to start tracking investments\"})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin text-4xl\",children:\"\\uD83D\\uDCBC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-4\",children:\"Loading portfolios...\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","portfolioApi","recommendationApi","toast","PieChart","Pie","Cell","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Portfolio","_selectedPortfolio$to","_selectedPortfolio$in","_ref","_selectedPortfolio$to2","portfolios","setPortfolios","selectedPortfolio","setSelectedPortfolio","isLoading","setIsLoading","showCreateForm","setShowCreateForm","newPortfolioName","setNewPortfolioName","addCapitalAmount","setAddCapitalAmount","COLORS","fetchPortfolios","response","getPortfolios","data","length","error","console","handleCreatePortfolio","e","preventDefault","createPortfolio","name","success","handleAddCapital","addCapital","id","parseFloat","className","children","onClick","onSubmit","type","value","onChange","target","placeholder","required","map","portfolio","concat","total_capital","toLocaleString","invested_amount","total_returns","toFixed","positions","position","pnl","current_price","entry_price","pnlPercent","stock_symbol","quantity","performance_history","width","height","strokeDasharray","dataKey","formatter","stroke","dot"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Portfolio.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { portfolioApi, recommendationApi } from \"../api/endpoints\";\nimport toast from \"react-hot-toast\";\nimport {\n  PieChart,\n  Pie,\n  Cell,\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\n\nexport default function Portfolio() {\n  const [portfolios, setPortfolios] = useState([]);\n  const [selectedPortfolio, setSelectedPortfolio] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newPortfolioName, setNewPortfolioName] = useState(\"\");\n  const [addCapitalAmount, setAddCapitalAmount] = useState(\"\");\n\n  const COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#8884D8\"];\n\n  useEffect(() => {\n    fetchPortfolios();\n  }, []);\n\n  const fetchPortfolios = async () => {\n    setIsLoading(true);\n    try {\n      const response = await portfolioApi.getPortfolios();\n      setPortfolios(response.data);\n      if (response.data.length > 0) {\n        setSelectedPortfolio(response.data[0]);\n      }\n    } catch (error) {\n      toast.error(\"Failed to fetch portfolios\");\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCreatePortfolio = async (e) => {\n    e.preventDefault();\n    try {\n      await portfolioApi.createPortfolio({ name: newPortfolioName });\n      toast.success(\"Portfolio created!\");\n      setNewPortfolioName(\"\");\n      setShowCreateForm(false);\n      fetchPortfolios();\n    } catch (error) {\n      toast.error(\"Failed to create portfolio\");\n      console.error(error);\n    }\n  };\n\n  const handleAddCapital = async (e) => {\n    e.preventDefault();\n    if (!selectedPortfolio) return;\n\n    try {\n      await portfolioApi.addCapital(selectedPortfolio.id, parseFloat(addCapitalAmount));\n      toast.success(\"Capital added!\");\n      setAddCapitalAmount(\"\");\n      fetchPortfolios();\n    } catch (error) {\n      toast.error(\"Failed to add capital\");\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Portfolio Management</h1>\n            <p className=\"text-gray-600 mt-2\">Track your investments and positions</p>\n          </div>\n          <button\n            onClick={() => setShowCreateForm(!showCreateForm)}\n            className=\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n          >\n            âž• New Portfolio\n          </button>\n        </div>\n      </div>\n\n      {/* Create Portfolio Form */}\n      {showCreateForm && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <form onSubmit={handleCreatePortfolio} className=\"flex gap-4\">\n            <input\n              type=\"text\"\n              value={newPortfolioName}\n              onChange={(e) => setNewPortfolioName(e.target.value)}\n              placeholder=\"Portfolio name (e.g., My Trading Account)\"\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n              required\n            />\n            <button\n              type=\"submit\"\n              className=\"bg-primary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n            >\n              Create\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setShowCreateForm(false)}\n              className=\"bg-gray-300 text-gray-700 font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n            >\n              Cancel\n            </button>\n          </form>\n        </div>\n      )}\n\n      {/* Portfolio Selection */}\n      {portfolios.length > 0 && (\n        <div className=\"flex gap-2 overflow-x-auto pb-2\">\n          {portfolios.map((portfolio) => (\n            <button\n              key={portfolio.id}\n              onClick={() => setSelectedPortfolio(portfolio)}\n              className={`px-4 py-2 rounded-lg font-medium transition whitespace-nowrap ${\n                selectedPortfolio?.id === portfolio.id\n                  ? \"bg-primary text-white\"\n                  : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n              }`}\n            >\n              ðŸ’¼ {portfolio.name}\n            </button>\n          ))}\n        </div>\n      )}\n\n      {/* Portfolio Overview */}\n      {selectedPortfolio && (\n        <div className=\"space-y-6\">\n          {/* Summary Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Total Capital</p>\n              <p className=\"text-3xl font-bold text-gray-900\">\n                â‚¹{selectedPortfolio.total_capital?.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Invested Amount</p>\n              <p className=\"text-3xl font-bold text-blue-600\">\n                â‚¹{selectedPortfolio.invested_amount?.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Cash Available</p>\n              <p className=\"text-3xl font-bold text-green-600\">\n                â‚¹{(selectedPortfolio.total_capital - selectedPortfolio.invested_amount)?.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Total Returns</p>\n              <p className={`text-3xl font-bold ${selectedPortfolio.total_returns >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                {selectedPortfolio.total_returns >= 0 ? \"+\" : \"\"}\n                {selectedPortfolio.total_returns?.toFixed(2)}%\n              </p>\n            </div>\n          </div>\n\n          {/* Add Capital Form */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Add Capital</h3>\n            <form onSubmit={handleAddCapital} className=\"flex gap-4\">\n              <input\n                type=\"number\"\n                value={addCapitalAmount}\n                onChange={(e) => setAddCapitalAmount(e.target.value)}\n                placeholder=\"Amount to add (â‚¹)\"\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                required\n              />\n              <button\n                type=\"submit\"\n                className=\"bg-green-600 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n              >\n                Add Funds\n              </button>\n            </form>\n          </div>\n\n          {/* Positions */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Open Positions</h3>\n            {selectedPortfolio.positions && selectedPortfolio.positions.length > 0 ? (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Symbol</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Quantity</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Entry Price</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Current Price</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">P&L</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">P&L %</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {selectedPortfolio.positions.map((position) => {\n                      const pnl = position.current_price - position.entry_price;\n                      const pnlPercent = (pnl / position.entry_price) * 100;\n                      return (\n                        <tr key={position.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-4 py-3 font-semibold text-gray-900\">{position.stock_symbol}</td>\n                          <td className=\"px-4 py-3 text-gray-700\">{position.quantity}</td>\n                          <td className=\"px-4 py-3 text-gray-700\">â‚¹{position.entry_price}</td>\n                          <td className=\"px-4 py-3 text-gray-700\">â‚¹{position.current_price}</td>\n                          <td className={`px-4 py-3 font-semibold ${pnl >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                            {pnl >= 0 ? \"+\" : \"\"}â‚¹{pnl.toFixed(2)}\n                          </td>\n                          <td className={`px-4 py-3 font-semibold ${pnlPercent >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                            {pnlPercent >= 0 ? \"+\" : \"\"}{pnlPercent.toFixed(2)}%\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            ) : (\n              <p className=\"text-gray-500\">No open positions</p>\n            )}\n          </div>\n\n          {/* Performance Chart */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Portfolio Performance</h3>\n            {selectedPortfolio.performance_history && selectedPortfolio.performance_history.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={selectedPortfolio.performance_history}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis />\n                  <Tooltip formatter={(value) => `â‚¹${value.toLocaleString()}`} />\n                  <Legend />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"value\"\n                    stroke=\"#0088FE\"\n                    dot={false}\n                    name=\"Portfolio Value\"\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            ) : (\n              <p className=\"text-gray-500\">No performance data available yet</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Empty State */}\n      {portfolios.length === 0 && !isLoading && (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">No portfolios yet</p>\n          <p className=\"text-gray-400\">Create your first portfolio to start tracking investments</p>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-block animate-spin text-4xl\">ðŸ’¼</div>\n          <p className=\"text-gray-600 mt-4\">Loading portfolios...</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}