{"ast":null,"code":"import _objectSpread from\"/home/vinod/Music/KVK_8833_PROFIT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{intradayApi,recommendationApi}from\"../api/endpoints\";import toast from\"react-hot-toast\";import{marketStatus,predictionControl,riskManagement,formatters}from\"../utils/tradingEngine\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Intraday(){var _signal$confidence_le,_signal$win_probabili,_signal$technical_ind,_signal$technical_ind2,_signal$risk_reward_r;const[symbol,setSymbol]=useState(\"INFY\");const[tradingStyle,setTradingStyle]=useState(\"INTRADAY\");const[capital,setCapital]=useState(50000);const[signal,setSignal]=useState(null);const[isLoading,setIsLoading]=useState(false);const[openTrades,setOpenTrades]=useState([]);const[marketOpen,setMarketOpen]=useState(false);const[marketStatusInfo,setMarketStatusInfo]=useState(null);const[predictionMode,setPredictionMode]=useState(null);const[riskAssessment,setRiskAssessment]=useState(null);const[sessionTime,setSessionTime]=useState(\"OPENING\");const[lastPrice,setLastPrice]=useState(null);const[priceChange,setPriceChange]=useState(null);const[refreshTimer,setRefreshTimer]=useState(60);useEffect(()=>{const updateMarketStatus=()=>{const isOpen=marketStatus.isMarketOpen();const status=marketStatus.getMarketStatus();setMarketOpen(isOpen);setMarketStatusInfo(status);setPredictionMode(predictionControl.getPredictionMode(isOpen));// Also update session time\nconst now=new Date();const hour=now.getHours();if(hour>=9&&hour<12){setSessionTime(\"OPENING\");}else if(hour>=12&&hour<15){setSessionTime(\"MID_DAY\");}else if(hour>=15&&hour<16){setSessionTime(\"CLOSING\");}else{setSessionTime(\"CLOSED\");}};updateMarketStatus();const timer=setInterval(updateMarketStatus,60000);return()=>clearInterval(timer);},[]);// Auto-refresh price when market is open\nuseEffect(()=>{if(!marketOpen||!symbol)return;const refreshPrice=async()=>{try{// Fetch latest price data\nconst response=await recommendationApi.generateRecommendation({stock_symbol:symbol,trading_style:\"INTRADAY\",capital});if(response.data){setLastPrice(response.data.entry_price);if(signal){setPriceChange(response.data.entry_price-signal.entry_price);}}}catch(error){// Silent error for price refresh\n}};const priceTimer=setInterval(refreshPrice,30000);// Refresh every 30 seconds\nreturn()=>clearInterval(priceTimer);},[marketOpen,symbol,capital,signal]);const handleGenerateSignal=async e=>{e.preventDefault();// Validate market is open\nif(!marketOpen){toast.error(\"‚è∞ Market is closed. Intraday signals available during market hours (9:15 AM - 3:30 PM)\");return;}// Validate inputs\nif(!symbol||symbol.length===0){toast.error(\"Please enter a stock symbol\");return;}if(capital<10000){toast.error(\"Minimum capital required is ‚Çπ10,000\");return;}setIsLoading(true);try{const response=await intradayApi.generateIntradaySignal({stock_symbol:symbol.toUpperCase(),capital:capital});const signalData=response.data;// Check validation results\nif(signalData.validation&&!signalData.validation.valid){// Show errors but still display signal for review\nif(signalData.validation.errors&&signalData.validation.errors.length>0){signalData.validation.errors.forEach(error=>{toast.error(error);});}}// Show warnings if any\nif(signalData.validation&&signalData.validation.warnings&&signalData.validation.warnings.length>0){signalData.validation.warnings.forEach(warning=>{toast.error(warning);});}setSignal(signalData);setLastPrice(signalData.current_price);// Calculate risk assessment\nif(signalData.entry_price&&signalData.stop_loss){const pnlData=riskManagement.calculatePnL(capital,signalData.entry_price,[signalData.target_1,signalData.target_2,signalData.target_3],signalData.stop_loss,signalData.quantity);setRiskAssessment(pnlData);// Check for risk warnings\nconst warnings=riskManagement.assessRisk(capital,signalData.entry_price,signalData.stop_loss,[signalData.target_1]);if(warnings.warnings&&warnings.warnings.length>0){warnings.warnings.forEach(w=>toast.error(w));}else if(!signalData.validation||signalData.validation.valid){toast.success(\"‚úÖ Intraday signal generated - Review risk details before executing!\");}}}catch(error){var _error$response,_error$response2,_error$response2$data;console.error(\"Signal generation error:\",error);// Handle validation errors\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===400&&(_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.validation){const validation=error.response.data.validation;if(validation.errors&&validation.errors.length>0){validation.errors.forEach(err=>toast.error(err));}}else{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||\"Failed to generate signal\");}}finally{setIsLoading(false);}};const handleExecuteTrade=async()=>{if(!signal)return;if(!marketOpen){toast.error(\"Market is closed. Cannot execute trades outside market hours.\");return;}try{// Validate position size doesn't exceed available capital\nconst capitalRequired=signal.quantity*signal.entry_price;if(capitalRequired>capital){toast.error(\"Insufficient capital. Required: \\u20B9\".concat(capitalRequired.toFixed(0),\", Available: \\u20B9\").concat(capital));return;}await recommendationApi.executeRecommendation(signal.id);const newTrade=_objectSpread(_objectSpread({},signal),{},{entry_time:new Date(),status:'ACTIVE',current_price:signal.entry_price});setOpenTrades([...openTrades,newTrade]);toast.success(\"‚úÖ Trade executed successfully!\");setSignal(null);setRiskAssessment(null);}catch(error){var _error$response4,_error$response4$data;console.error(\"Trade execution error:\",error);toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||\"Failed to execute trade\");}};const handleCloseTrade=async tradeIndex=>{const trade=openTrades[tradeIndex];if(!lastPrice){toast.error(\"Unable to close trade - no price data available\");return;}try{const updatedTrades=openTrades.filter((_,idx)=>idx!==tradeIndex);setOpenTrades(updatedTrades);const pnl=(lastPrice-trade.entry_price)*trade.quantity;const pnlPercent=(lastPrice-trade.entry_price)/trade.entry_price*100;if(pnl>0){toast.success(\"\\u2705 Trade closed with profit: \\u20B9\".concat(pnl.toFixed(0),\" (\").concat(pnlPercent.toFixed(2),\"%)\"));}else{toast.error(\"\\u274C Trade closed with loss: \\u20B9\".concat(pnl.toFixed(0),\" (\").concat(pnlPercent.toFixed(2),\"%)\"));}}catch(error){toast.error(\"Failed to close trade\");}};const getSessionColor=session=>{switch(session){case\"OPENING\":return\"bg-orange-100 text-orange-800\";case\"MID_DAY\":return\"bg-blue-100 text-blue-800\";case\"CLOSING\":return\"bg-red-100 text-red-800\";case\"CLOSED\":return\"bg-gray-100 text-gray-800\";default:return\"bg-gray-100 text-gray-800\";}};const getSignalColor=signalType=>{switch(signalType){case\"BUY\":return\"text-green-600 bg-green-50 border-green-500\";case\"SELL\":return\"text-red-600 bg-red-50 border-red-500\";case\"HOLD\":return\"text-yellow-600 bg-yellow-50 border-yellow-500\";default:return\"text-gray-600 bg-gray-50 border-gray-500\";}};const formatCurrency=value=>{if(!value)return\"‚Çπ0\";return\"\\u20B9\".concat(parseFloat(value).toLocaleString('en-IN',{maximumFractionDigits:0}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[marketStatusInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(marketStatusInfo.color,\" rounded-lg p-4 border border-gray-200\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:marketStatusInfo.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:marketOpen?\"‚úÖ Intraday trading available\":\"üîí Trading disabled - market closed\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:marketOpen?'üü¢':'üîí'})]})}),!marketOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 border-l-4 border-gray-400 p-4 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-3\",children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900\",children:\"Market Closed - Analysis Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 mt-1\",children:\"Intraday signals are disabled when the market is closed.\"}),(()=>{const timeLeft=marketStatus.getTimeUntilMarketOpen();return/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600 font-semibold mt-2\",children:[\"\\u23F0 Market opens in \",timeLeft.hoursUntil,\"h \",timeLeft.minutesUntil,\"m (9:15 AM IST)\"]});})()]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\u26A1 Intraday Trading\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"High-frequency trading signals with tight risk management\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 rounded-lg font-semibold text-sm \".concat(getSessionColor(sessionTime)),children:[sessionTime===\"OPENING\"&&\"üìà Morning Session (9:15-12:00)\",sessionTime===\"MID_DAY\"&&\"üìä Mid Day (12:00-3:30 PM)\",sessionTime===\"CLOSING\"&&\"üìâ Closing (3:00-3:30 PM)\",sessionTime===\"CLOSED\"&&\"üîí Market Closed\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleGenerateSignal,className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Stock Symbol\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:symbol,onChange:e=>setSymbol(e.target.value.toUpperCase()),placeholder:\"e.g., INFY\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Capital (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:capital,onChange:e=>setCapital(parseInt(e.target.value)),min:\"10000\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Session\"}),/*#__PURE__*/_jsx(\"select\",{value:sessionTime,disabled:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600\",children:/*#__PURE__*/_jsx(\"option\",{value:sessionTime,children:sessionTime})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading||sessionTime===\"CLOSED\",className:\"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\",children:isLoading?\"Generating...\":\"Generate Signal\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSignal(null),className:\"w-full bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\",children:\"Clear\"})})]})}),signal&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg shadow-md p-8 border-l-4 \".concat(getSignalColor(signal.signal)),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2 font-semibold\",children:\"Signal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold \".concat(signal.signal==='BUY'?'text-green-600':signal.signal==='SELL'?'text-red-600':'text-yellow-600'),children:signal.signal}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"Strength: \",signal.signal_strength||'STANDARD']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2 font-semibold\",children:\"Entry Price\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-purple-600\",children:formatCurrency(signal.entry_price)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"Live: \",formatCurrency(signal.current_price)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2 font-semibold\",children:\"Stop Loss\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-red-600\",children:formatCurrency(signal.stop_loss)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"Risk: \",signal.risk_percent.toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2 font-semibold\",children:\"Confidence\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-bold text-green-600\",children:[((_signal$confidence_le=signal.confidence_level)===null||_signal$confidence_le===void 0?void 0:_signal$confidence_le.toFixed(0))||signal.confidence_level||'0',\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"Win: \",((_signal$win_probabili=signal.win_probability)===null||_signal$win_probabili===void 0?void 0:_signal$win_probabili.toFixed(0))||'0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2 font-semibold\",children:\"Position\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-orange-600\",children:[signal.quantity,\" units\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"Capital: \",formatCurrency(signal.capital_required)]})]})]}),signal.technical_indicators&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 mb-3\",children:\"\\uD83D\\uDCCA Technical Indicators\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\",children:[signal.technical_indicators.vwap&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-blue-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"VWAP\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-blue-600\",children:(_signal$technical_ind=signal.technical_indicators.vwap.value)===null||_signal$technical_ind===void 0?void 0:_signal$technical_ind.toFixed(2)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:signal.technical_indicators.vwap.signal})]}),signal.technical_indicators.ema&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-purple-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"EMA Signal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-purple-600\",children:signal.technical_indicators.ema.signal}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:\"12/26 Cross\"})]}),signal.technical_indicators.rsi&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-red-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"RSI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-600\",children:(_signal$technical_ind2=signal.technical_indicators.rsi.value)===null||_signal$technical_ind2===void 0?void 0:_signal$technical_ind2.toFixed(1)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:signal.technical_indicators.rsi.signal})]}),signal.technical_indicators.volume&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-green-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Volume\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-green-600\",children:signal.technical_indicators.volume.signal}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1\",children:[\"Ratio: \",signal.technical_indicators.volume.ratio]})]})]})]}),riskAssessment&&riskAssessment.valid&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 mb-3\",children:\"\\uD83D\\uDCB0 Position Sizing & Risk (0.5% Rule)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Max Risk (0.5%)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-green-600\",children:formatCurrency(riskAssessment.maxRisk)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Position Size\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-blue-600\",children:[riskAssessment.position,\" units\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Actual Risk\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-orange-600\",children:formatCurrency(riskAssessment.riskAmount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Risk/Reward\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-purple-600\",children:[\"1:\",((_signal$risk_reward_r=signal.risk_reward_ratio)===null||_signal$risk_reward_r===void 0?void 0:_signal$risk_reward_r.toFixed(2))||'0']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Session Close\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-600\",children:\"Auto Square-off\"})]})]})]}),riskAssessment&&riskAssessment.valid&&(()=>{const warnings=riskManagement.assessRisk(capital,signal.entry_price,signal.stop_loss,[signal.target_1]);return warnings.warnings&&warnings.warnings.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-yellow-900 mb-2\",children:\"\\u26A0\\uFE0F Risk Alerts\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-yellow-800 space-y-1\",children:warnings.warnings.map((w,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",w]},i))})]}):null;})(),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 pb-6 border-b\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Target 1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600\",children:formatCurrency(signal.target_1)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"+\",((signal.target_1-signal.entry_price)/signal.entry_price*100).toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-emerald-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Target 2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-emerald-600\",children:formatCurrency(signal.target_2)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"+\",((signal.target_2-signal.entry_price)/signal.entry_price*100).toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-teal-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Target 3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-teal-600\",children:formatCurrency(signal.target_3)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"+\",((signal.target_3-signal.entry_price)/signal.entry_price*100).toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cyan-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Target 4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-cyan-600\",children:formatCurrency(signal.target_4)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:[\"+\",((signal.target_4-signal.entry_price)/signal.entry_price*100).toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExecuteTrade,disabled:!marketOpen,className:\"flex-1 bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\",children:\"\\u2705 Execute Trade\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSignal(null),className:\"flex-1 bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-400 hover:shadow-lg transition\",children:\"\\u274C Discard\"})]})]}),openTrades.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:[\"\\uD83D\\uDCCA Open Intraday Trades (\",openTrades.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Signal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Entry\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Target 1\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Stop Loss\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-sm font-semibold text-gray-700\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:openTrades.map((trade,idx)=>{const pnl=(lastPrice-trade.entry_price)*trade.quantity;const pnlPercent=(lastPrice-trade.entry_price)/trade.entry_price*100;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 font-semibold text-gray-900\",children:trade.stock||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 font-bold \".concat(trade.signal===\"BUY\"?\"text-green-600\":\"text-red-600\"),children:trade.signal}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-700\",children:formatCurrency(trade.entry_price)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-700\",children:formatCurrency(trade.target_1)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-700\",children:formatCurrency(trade.stop_loss)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-700\",children:trade.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 font-bold \".concat(pnl>0?'text-green-600':'text-red-600'),children:[formatCurrency(pnl),\" (\",pnlPercent.toFixed(2),\"%)\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCloseTrade(idx),className:\"text-red-600 hover:text-red-800 font-semibold hover:bg-red-50 px-3 py-1 rounded\",children:\"Close\"})})]},idx);})})]})})]}),sessionTime===\"CLOSING\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 border border-orange-200 rounded-lg p-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-800 font-semibold text-lg\",children:\"\\u23F0 Closing Session\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-700 mt-2\",children:\"All intraday positions will be automatically squared off at market close (3:30 PM)\"})]}),!signal&&openTrades.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"\\uD83D\\uDE80 Generate a signal to see intraday trading recommendations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-2\",children:\"Signals use VWAP, EMA, and volume analysis for precise entry/exit points\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","intradayApi","recommendationApi","toast","marketStatus","predictionControl","riskManagement","formatters","jsx","_jsx","jsxs","_jsxs","Intraday","_signal$confidence_le","_signal$win_probabili","_signal$technical_ind","_signal$technical_ind2","_signal$risk_reward_r","symbol","setSymbol","tradingStyle","setTradingStyle","capital","setCapital","signal","setSignal","isLoading","setIsLoading","openTrades","setOpenTrades","marketOpen","setMarketOpen","marketStatusInfo","setMarketStatusInfo","predictionMode","setPredictionMode","riskAssessment","setRiskAssessment","sessionTime","setSessionTime","lastPrice","setLastPrice","priceChange","setPriceChange","refreshTimer","setRefreshTimer","updateMarketStatus","isOpen","isMarketOpen","status","getMarketStatus","getPredictionMode","now","Date","hour","getHours","timer","setInterval","clearInterval","refreshPrice","response","generateRecommendation","stock_symbol","trading_style","data","entry_price","error","priceTimer","handleGenerateSignal","e","preventDefault","length","generateIntradaySignal","toUpperCase","signalData","validation","valid","errors","forEach","warnings","warning","current_price","stop_loss","pnlData","calculatePnL","target_1","target_2","target_3","quantity","assessRisk","w","success","_error$response","_error$response2","_error$response2$data","console","err","_error$response3","_error$response3$data","handleExecuteTrade","capitalRequired","concat","toFixed","executeRecommendation","id","newTrade","_objectSpread","entry_time","_error$response4","_error$response4$data","handleCloseTrade","tradeIndex","trade","updatedTrades","filter","_","idx","pnl","pnlPercent","getSessionColor","session","getSignalColor","signalType","formatCurrency","value","parseFloat","toLocaleString","maximumFractionDigits","className","children","color","label","timeLeft","getTimeUntilMarketOpen","hoursUntil","minutesUntil","onSubmit","type","onChange","target","placeholder","parseInt","min","disabled","onClick","signal_strength","risk_percent","confidence_level","win_probability","capital_required","technical_indicators","vwap","ema","rsi","volume","ratio","maxRisk","position","riskAmount","risk_reward_ratio","map","i","target_4","stock"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Intraday.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport toast from \"react-hot-toast\";\nimport { marketStatus, predictionControl, riskManagement, formatters } from \"../utils/tradingEngine\";\n\nexport default function Intraday() {\n  const [symbol, setSymbol] = useState(\"INFY\");\n  const [tradingStyle, setTradingStyle] = useState(\"INTRADAY\");\n  const [capital, setCapital] = useState(50000);\n  const [signal, setSignal] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [openTrades, setOpenTrades] = useState([]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [marketStatusInfo, setMarketStatusInfo] = useState(null);\n  const [predictionMode, setPredictionMode] = useState(null);\n  const [riskAssessment, setRiskAssessment] = useState(null);\n  const [sessionTime, setSessionTime] = useState(\"OPENING\");\n  const [lastPrice, setLastPrice] = useState(null);\n  const [priceChange, setPriceChange] = useState(null);\n  const [refreshTimer, setRefreshTimer] = useState(60);\n\n  useEffect(() => {\n    const updateMarketStatus = () => {\n      const isOpen = marketStatus.isMarketOpen();\n      const status = marketStatus.getMarketStatus();\n      setMarketOpen(isOpen);\n      setMarketStatusInfo(status);\n      setPredictionMode(predictionControl.getPredictionMode(isOpen));\n\n      // Also update session time\n      const now = new Date();\n      const hour = now.getHours();\n      if (hour >= 9 && hour < 12) {\n        setSessionTime(\"OPENING\");\n      } else if (hour >= 12 && hour < 15) {\n        setSessionTime(\"MID_DAY\");\n      } else if (hour >= 15 && hour < 16) {\n        setSessionTime(\"CLOSING\");\n      } else {\n        setSessionTime(\"CLOSED\");\n      }\n    };\n\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n\n  // Auto-refresh price when market is open\n  useEffect(() => {\n    if (!marketOpen || !symbol) return;\n\n    const refreshPrice = async () => {\n      try {\n        // Fetch latest price data\n        const response = await recommendationApi.generateRecommendation({\n          stock_symbol: symbol,\n          trading_style: \"INTRADAY\",\n          capital\n        });\n        \n        if (response.data) {\n          setLastPrice(response.data.entry_price);\n          if (signal) {\n            setPriceChange(response.data.entry_price - signal.entry_price);\n          }\n        }\n      } catch (error) {\n        // Silent error for price refresh\n      }\n    };\n\n    const priceTimer = setInterval(refreshPrice, 30000); // Refresh every 30 seconds\n    return () => clearInterval(priceTimer);\n  }, [marketOpen, symbol, capital, signal]);\n\n  const handleGenerateSignal = async (e) => {\n    e.preventDefault();\n\n    // Validate market is open\n    if (!marketOpen) {\n      toast.error(\"‚è∞ Market is closed. Intraday signals available during market hours (9:15 AM - 3:30 PM)\");\n      return;\n    }\n\n    // Validate inputs\n    if (!symbol || symbol.length === 0) {\n      toast.error(\"Please enter a stock symbol\");\n      return;\n    }\n\n    if (capital < 10000) {\n      toast.error(\"Minimum capital required is ‚Çπ10,000\");\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await intradayApi.generateIntradaySignal({\n        stock_symbol: symbol.toUpperCase(),\n        capital: capital,\n      });\n\n      const signalData = response.data;\n      \n      // Check validation results\n      if (signalData.validation && !signalData.validation.valid) {\n        // Show errors but still display signal for review\n        if (signalData.validation.errors && signalData.validation.errors.length > 0) {\n          signalData.validation.errors.forEach(error => {\n            toast.error(error);\n          });\n        }\n      }\n      \n      // Show warnings if any\n      if (signalData.validation && signalData.validation.warnings && signalData.validation.warnings.length > 0) {\n        signalData.validation.warnings.forEach(warning => {\n          toast.error(warning);\n        });\n      }\n      \n      setSignal(signalData);\n      setLastPrice(signalData.current_price);\n\n      // Calculate risk assessment\n      if (signalData.entry_price && signalData.stop_loss) {\n        const pnlData = riskManagement.calculatePnL(\n          capital,\n          signalData.entry_price,\n          [signalData.target_1, signalData.target_2, signalData.target_3],\n          signalData.stop_loss,\n          signalData.quantity\n        );\n        setRiskAssessment(pnlData);\n\n        // Check for risk warnings\n        const warnings = riskManagement.assessRisk(\n          capital,\n          signalData.entry_price,\n          signalData.stop_loss,\n          [signalData.target_1]\n        );\n\n        if (warnings.warnings && warnings.warnings.length > 0) {\n          warnings.warnings.forEach(w => toast.error(w));\n        } else if (!signalData.validation || signalData.validation.valid) {\n          toast.success(\"‚úÖ Intraday signal generated - Review risk details before executing!\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Signal generation error:\", error);\n      \n      // Handle validation errors\n      if (error.response?.status === 400 && error.response?.data?.validation) {\n        const validation = error.response.data.validation;\n        if (validation.errors && validation.errors.length > 0) {\n          validation.errors.forEach(err => toast.error(err));\n        }\n      } else {\n        toast.error(error.response?.data?.error || \"Failed to generate signal\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleExecuteTrade = async () => {\n    if (!signal) return;\n\n    if (!marketOpen) {\n      toast.error(\"Market is closed. Cannot execute trades outside market hours.\");\n      return;\n    }\n\n    try {\n      // Validate position size doesn't exceed available capital\n      const capitalRequired = signal.quantity * signal.entry_price;\n      if (capitalRequired > capital) {\n        toast.error(`Insufficient capital. Required: ‚Çπ${capitalRequired.toFixed(0)}, Available: ‚Çπ${capital}`);\n        return;\n      }\n\n      await recommendationApi.executeRecommendation(signal.id);\n      \n      const newTrade = {\n        ...signal,\n        entry_time: new Date(),\n        status: 'ACTIVE',\n        current_price: signal.entry_price\n      };\n      \n      setOpenTrades([...openTrades, newTrade]);\n      toast.success(\"‚úÖ Trade executed successfully!\");\n      setSignal(null);\n      setRiskAssessment(null);\n    } catch (error) {\n      console.error(\"Trade execution error:\", error);\n      toast.error(error.response?.data?.error || \"Failed to execute trade\");\n    }\n  };\n\n  const handleCloseTrade = async (tradeIndex) => {\n    const trade = openTrades[tradeIndex];\n    \n    if (!lastPrice) {\n      toast.error(\"Unable to close trade - no price data available\");\n      return;\n    }\n\n    try {\n      const updatedTrades = openTrades.filter((_, idx) => idx !== tradeIndex);\n      setOpenTrades(updatedTrades);\n      \n      const pnl = (lastPrice - trade.entry_price) * trade.quantity;\n      const pnlPercent = ((lastPrice - trade.entry_price) / trade.entry_price) * 100;\n      \n      if (pnl > 0) {\n        toast.success(`‚úÖ Trade closed with profit: ‚Çπ${pnl.toFixed(0)} (${pnlPercent.toFixed(2)}%)`);\n      } else {\n        toast.error(`‚ùå Trade closed with loss: ‚Çπ${pnl.toFixed(0)} (${pnlPercent.toFixed(2)}%)`);\n      }\n    } catch (error) {\n      toast.error(\"Failed to close trade\");\n    }\n  };\n\n  const getSessionColor = (session) => {\n    switch (session) {\n      case \"OPENING\":\n        return \"bg-orange-100 text-orange-800\";\n      case \"MID_DAY\":\n        return \"bg-blue-100 text-blue-800\";\n      case \"CLOSING\":\n        return \"bg-red-100 text-red-800\";\n      case \"CLOSED\":\n        return \"bg-gray-100 text-gray-800\";\n      default:\n        return \"bg-gray-100 text-gray-800\";\n    }\n  };\n\n  const getSignalColor = (signalType) => {\n    switch (signalType) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50 border-green-500\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50 border-red-500\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50 border-yellow-500\";\n      default:\n        return \"text-gray-600 bg-gray-50 border-gray-500\";\n    }\n  };\n\n  const formatCurrency = (value) => {\n    if (!value) return \"‚Çπ0\";\n    return `‚Çπ${parseFloat(value).toLocaleString('en-IN', { maximumFractionDigits: 0 })}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Market Status Banner */}\n      {marketStatusInfo && (\n        <div className={`${marketStatusInfo.color} rounded-lg p-4 border border-gray-200`}>\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <p className=\"font-semibold text-gray-900\">{marketStatusInfo.label}</p>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                {marketOpen ? \"‚úÖ Intraday trading available\" : \"üîí Trading disabled - market closed\"}\n              </p>\n            </div>\n            <span className=\"text-3xl\">\n              {marketOpen ? 'üü¢' : 'üîí'}\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Market Closed Warning */}\n      {!marketOpen && (\n        <div className=\"bg-gray-50 border-l-4 border-gray-400 p-4 rounded\">\n          <div className=\"flex items-start\">\n            <span className=\"text-2xl mr-3\">üìÖ</span>\n            <div>\n              <h3 className=\"font-bold text-gray-900\">Market Closed - Analysis Mode</h3>\n              <p className=\"text-sm text-gray-700 mt-1\">Intraday signals are disabled when the market is closed.</p>\n              {(() => {\n                const timeLeft = marketStatus.getTimeUntilMarketOpen();\n                return (\n                  <p className=\"text-xs text-blue-600 font-semibold mt-2\">\n                    ‚è∞ Market opens in {timeLeft.hoursUntil}h {timeLeft.minutesUntil}m (9:15 AM IST)\n                  </p>\n                );\n              })()}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">‚ö° Intraday Trading</h1>\n            <p className=\"text-gray-600 mt-2\">High-frequency trading signals with tight risk management</p>\n          </div>\n          <div className={`px-4 py-2 rounded-lg font-semibold text-sm ${getSessionColor(sessionTime)}`}>\n            {sessionTime === \"OPENING\" && \"üìà Morning Session (9:15-12:00)\"}\n            {sessionTime === \"MID_DAY\" && \"üìä Mid Day (12:00-3:30 PM)\"}\n            {sessionTime === \"CLOSING\" && \"üìâ Closing (3:00-3:30 PM)\"}\n            {sessionTime === \"CLOSED\" && \"üîí Market Closed\"}\n          </div>\n        </div>\n      </div>\n\n      {/* Signal Generator */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <form onSubmit={handleGenerateSignal} className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Stock Symbol</label>\n            <input\n              type=\"text\"\n              value={symbol}\n              onChange={(e) => setSymbol(e.target.value.toUpperCase())}\n              placeholder=\"e.g., INFY\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Capital (‚Çπ)</label>\n            <input\n              type=\"number\"\n              value={capital}\n              onChange={(e) => setCapital(parseInt(e.target.value))}\n              min=\"10000\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Session</label>\n            <select\n              value={sessionTime}\n              disabled\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600\"\n            >\n              <option value={sessionTime}>{sessionTime}</option>\n            </select>\n          </div>\n\n          <div className=\"flex items-end\">\n            <button\n              type=\"submit\"\n              disabled={isLoading || sessionTime === \"CLOSED\"}\n              className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Generating...\" : \"Generate Signal\"}\n            </button>\n          </div>\n\n          <div className=\"flex items-end\">\n            <button\n              type=\"button\"\n              onClick={() => setSignal(null)}\n              className=\"w-full bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\"\n            >\n              Clear\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Current Signal Display */}\n      {signal && (\n        <div className={`rounded-lg shadow-md p-8 border-l-4 ${getSignalColor(signal.signal)}`}>\n          {/* Main Signal Box */}\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6\">\n            <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600 mb-2 font-semibold\">Signal</p>\n              <p className={`text-4xl font-bold ${signal.signal === 'BUY' ? 'text-green-600' : signal.signal === 'SELL' ? 'text-red-600' : 'text-yellow-600'}`}>\n                {signal.signal}\n              </p>\n              <p className=\"text-xs text-gray-600 mt-2\">Strength: {signal.signal_strength || 'STANDARD'}</p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600 mb-2 font-semibold\">Entry Price</p>\n              <p className=\"text-4xl font-bold text-purple-600\">{formatCurrency(signal.entry_price)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">Live: {formatCurrency(signal.current_price)}</p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600 mb-2 font-semibold\">Stop Loss</p>\n              <p className=\"text-4xl font-bold text-red-600\">{formatCurrency(signal.stop_loss)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">Risk: {signal.risk_percent.toFixed(2)}%</p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600 mb-2 font-semibold\">Confidence</p>\n              <p className=\"text-4xl font-bold text-green-600\">{signal.confidence_level?.toFixed(0) || signal.confidence_level || '0'}%</p>\n              <p className=\"text-xs text-gray-600 mt-2\">Win: {signal.win_probability?.toFixed(0) || '0'}%</p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600 mb-2 font-semibold\">Position</p>\n              <p className=\"text-3xl font-bold text-orange-600\">{signal.quantity} units</p>\n              <p className=\"text-xs text-gray-600 mt-2\">Capital: {formatCurrency(signal.capital_required)}</p>\n            </div>\n          </div>\n\n          {/* Technical Indicators */}\n          {signal.technical_indicators && (\n            <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-6\">\n              <h3 className=\"font-bold text-gray-900 mb-3\">üìä Technical Indicators</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n                {signal.technical_indicators.vwap && (\n                  <div className=\"bg-white p-3 rounded border border-blue-200\">\n                    <p className=\"text-xs text-gray-600\">VWAP</p>\n                    <p className=\"font-bold text-blue-600\">{signal.technical_indicators.vwap.value?.toFixed(2)}</p>\n                    <p className=\"text-xs mt-1\">{signal.technical_indicators.vwap.signal}</p>\n                  </div>\n                )}\n                {signal.technical_indicators.ema && (\n                  <div className=\"bg-white p-3 rounded border border-purple-200\">\n                    <p className=\"text-xs text-gray-600\">EMA Signal</p>\n                    <p className=\"font-bold text-purple-600\">{signal.technical_indicators.ema.signal}</p>\n                    <p className=\"text-xs mt-1\">12/26 Cross</p>\n                  </div>\n                )}\n                {signal.technical_indicators.rsi && (\n                  <div className=\"bg-white p-3 rounded border border-red-200\">\n                    <p className=\"text-xs text-gray-600\">RSI</p>\n                    <p className=\"font-bold text-red-600\">{signal.technical_indicators.rsi.value?.toFixed(1)}</p>\n                    <p className=\"text-xs mt-1\">{signal.technical_indicators.rsi.signal}</p>\n                  </div>\n                )}\n                {signal.technical_indicators.volume && (\n                  <div className=\"bg-white p-3 rounded border border-green-200\">\n                    <p className=\"text-xs text-gray-600\">Volume</p>\n                    <p className=\"font-bold text-green-600\">{signal.technical_indicators.volume.signal}</p>\n                    <p className=\"text-xs mt-1\">Ratio: {signal.technical_indicators.volume.ratio}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Risk Assessment */}\n          {riskAssessment && riskAssessment.valid && (\n            <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 mb-6\">\n              <h3 className=\"font-bold text-gray-900 mb-3\">üí∞ Position Sizing & Risk (0.5% Rule)</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm\">\n                <div className=\"bg-white p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Max Risk (0.5%)</p>\n                  <p className=\"font-bold text-green-600\">{formatCurrency(riskAssessment.maxRisk)}</p>\n                </div>\n                <div className=\"bg-white p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Position Size</p>\n                  <p className=\"font-bold text-blue-600\">{riskAssessment.position} units</p>\n                </div>\n                <div className=\"bg-white p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Actual Risk</p>\n                  <p className=\"font-bold text-orange-600\">{formatCurrency(riskAssessment.riskAmount)}</p>\n                </div>\n                <div className=\"bg-white p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Risk/Reward</p>\n                  <p className=\"font-bold text-purple-600\">1:{signal.risk_reward_ratio?.toFixed(2) || '0'}</p>\n                </div>\n                <div className=\"bg-white p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Session Close</p>\n                  <p className=\"font-bold text-red-600\">Auto Square-off</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Risk Warnings */}\n          {riskAssessment && riskAssessment.valid && (() => {\n            const warnings = riskManagement.assessRisk(\n              capital,\n              signal.entry_price,\n              signal.stop_loss,\n              [signal.target_1]\n            );\n            return warnings.warnings && warnings.warnings.length > 0 ? (\n              <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 rounded\">\n                <h4 className=\"font-bold text-yellow-900 mb-2\">‚ö†Ô∏è Risk Alerts</h4>\n                <ul className=\"text-sm text-yellow-800 space-y-1\">\n                  {warnings.warnings.map((w, i) => <li key={i}>‚Ä¢ {w}</li>)}\n                </ul>\n              </div>\n            ) : null;\n          })()}\n\n          {/* Targets */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 pb-6 border-b\">\n            <div className=\"bg-green-50 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600\">Target 1</p>\n              <p className=\"text-3xl font-bold text-green-600\">{formatCurrency(signal.target_1)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">+{((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2)}%</p>\n            </div>\n            <div className=\"bg-emerald-50 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600\">Target 2</p>\n              <p className=\"text-3xl font-bold text-emerald-600\">{formatCurrency(signal.target_2)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">+{((signal.target_2 - signal.entry_price) / signal.entry_price * 100).toFixed(2)}%</p>\n            </div>\n            <div className=\"bg-teal-50 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600\">Target 3</p>\n              <p className=\"text-3xl font-bold text-teal-600\">{formatCurrency(signal.target_3)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">+{((signal.target_3 - signal.entry_price) / signal.entry_price * 100).toFixed(2)}%</p>\n            </div>\n            <div className=\"bg-cyan-50 p-4 rounded-lg\">\n              <p className=\"text-sm text-gray-600\">Target 4</p>\n              <p className=\"text-3xl font-bold text-cyan-600\">{formatCurrency(signal.target_4)}</p>\n              <p className=\"text-xs text-gray-600 mt-2\">+{((signal.target_4 - signal.entry_price) / signal.entry_price * 100).toFixed(2)}%</p>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-4\">\n            <button\n              onClick={handleExecuteTrade}\n              disabled={!marketOpen}\n              className=\"flex-1 bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              ‚úÖ Execute Trade\n            </button>\n            <button\n              onClick={() => setSignal(null)}\n              className=\"flex-1 bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-400 hover:shadow-lg transition\"\n            >\n              ‚ùå Discard\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Open Trades */}\n      {openTrades.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-xl font-bold text-gray-900 mb-4\">üìä Open Intraday Trades ({openTrades.length})</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Symbol</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Signal</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Entry</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Target 1</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Stop Loss</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Qty</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">P&L</th>\n                  <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-700\">Action</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y\">\n                {openTrades.map((trade, idx) => {\n                  const pnl = (lastPrice - trade.entry_price) * trade.quantity;\n                  const pnlPercent = ((lastPrice - trade.entry_price) / trade.entry_price) * 100;\n                  return (\n                    <tr key={idx} className=\"hover:bg-gray-50\">\n                      <td className=\"px-4 py-3 font-semibold text-gray-900\">{trade.stock || 'N/A'}</td>\n                      <td className={`px-4 py-3 font-bold ${trade.signal === \"BUY\" ? \"text-green-600\" : \"text-red-600\"}`}>\n                        {trade.signal}\n                      </td>\n                      <td className=\"px-4 py-3 text-gray-700\">{formatCurrency(trade.entry_price)}</td>\n                      <td className=\"px-4 py-3 text-gray-700\">{formatCurrency(trade.target_1)}</td>\n                      <td className=\"px-4 py-3 text-gray-700\">{formatCurrency(trade.stop_loss)}</td>\n                      <td className=\"px-4 py-3 text-gray-700\">{trade.quantity}</td>\n                      <td className={`px-4 py-3 font-bold ${pnl > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {formatCurrency(pnl)} ({pnlPercent.toFixed(2)}%)\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <button\n                          onClick={() => handleCloseTrade(idx)}\n                          className=\"text-red-600 hover:text-red-800 font-semibold hover:bg-red-50 px-3 py-1 rounded\"\n                        >\n                          Close\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Session Close Warning */}\n      {sessionTime === \"CLOSING\" && (\n        <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-6 text-center\">\n          <p className=\"text-orange-800 font-semibold text-lg\">‚è∞ Closing Session</p>\n          <p className=\"text-orange-700 mt-2\">All intraday positions will be automatically squared off at market close (3:30 PM)</p>\n        </div>\n      )}\n\n      {/* Empty State */}\n      {!signal && openTrades.length === 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">üöÄ Generate a signal to see intraday trading recommendations</p>\n          <p className=\"text-gray-400 mt-2\">Signals use VWAP, EMA, and volume analysis for precise entry/exit points</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}