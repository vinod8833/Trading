{"ast":null,"code":"var _jsxFileName = \"/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signals() {\n  _s();\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore(s => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n  useEffect(() => {\n    // Update market status\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      var _response$data;\n      let response;\n      try {\n        response = activeTab === \"intraday\" ? await intradayApi.getIntradaySignals() : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        console.error(\"API Error fetching signals:\", err);\n        // Fallback to empty array if API fails\n        response = {\n          data: []\n        };\n      }\n\n      // Enhance signals with calculated risk/reward\n      const signalList = Array.isArray(response.data) ? response.data : ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results) || [];\n      const enhancedSignals = (signalList || []).map(signal => ({\n        ...signal,\n        riskReward: signal.entry_price && signal.target_1 && signal.stop_loss ? riskManagement.calculateRiskReward(signal.entry_price, signal.target_1, signal.stop_loss) : 0,\n        expectedProfit: signal.entry_price && signal.target_1 ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2) : 0,\n        expectedLoss: signal.entry_price && signal.stop_loss ? ((signal.stop_loss - signal.entry_price) / signal.entry_price * 100).toFixed(2) : 0,\n        pnlData: signal.entry_price && signal.target_1 && signal.stop_loss ? riskManagement.calculatePnL(defaultCapital, signal.entry_price, [signal.target_1, signal.target_2, signal.target_3], signal.stop_loss) : null\n      }));\n      setSignals(enhancedSignals);\n    } catch (error) {\n      toast.error(\"Failed to fetch signals\");\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getSignalColor = signal => {\n    switch (signal) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50 border-green-300\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50 border-red-300\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50 border-yellow-300\";\n      default:\n        return \"text-gray-600 bg-gray-50 border-gray-300\";\n    }\n  };\n  const getSignalIcon = signal => {\n    switch (signal) {\n      case \"BUY\":\n        return \"üü¢\";\n      case \"SELL\":\n        return \"üî¥\";\n      case \"HOLD\":\n        return \"üü°\";\n      default:\n        return \"‚ö™\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [marketOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border-l-4 border-green-400 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold text-green-900\",\n        children: \"\\uD83D\\uDFE2 Market Open - Live Signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-green-700 mt-1\",\n        children: \"Showing real-time signals with calculated risk/reward\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border-l-4 border-blue-400 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold text-blue-900\",\n        children: \"\\uD83D\\uDCCA Market Closed - Analysis Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-blue-700 mt-1\",\n        children: \"Showing historical signals and last available analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-2\",\n        children: \"Capital for Risk Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: defaultCapital,\n        onChange: e => setDefaultCapital(parseInt(e.target.value)),\n        placeholder: \"\\u20B9100,000\",\n        min: \"1000\",\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Used to calculate position sizing and expected P&L\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"all\"),\n        className: `px-4 py-2 rounded-lg font-medium transition ${activeTab === \"all\" ? \"bg-primary text-white\" : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"}`,\n        children: \"All Signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"intraday\"),\n        className: `px-4 py-2 rounded-lg font-medium transition ${activeTab === \"intraday\" ? \"bg-primary text-white\" : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"}`,\n        children: \"\\u26A1 Intraday\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin text-4xl\",\n        children: \"\\u23F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-4\",\n        children: \"Loading signals...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this) : signals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-12 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-lg\",\n        children: \"No signals available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"Generate a recommendation to see signals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: signals.map(signal => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-lg shadow-md p-6 border-l-4 ${getSignalColor(signal.signal)}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold\",\n              children: [getSignalIcon(signal.signal), \" \", signal.stock_symbol]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: signal.created_at\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-bold bg-white bg-opacity-70 px-3 py-1 rounded\",\n            children: signal.signal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-2 mb-4 pb-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Entry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.entry_price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Stop Loss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.stop_loss]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Target 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"\\u20B9\", signal.target_1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-3 mb-4 pb-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-3 rounded text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Risk/Reward\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-blue-600\",\n              children: [\"1:\", signal.riskReward]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-60 p-3 rounded text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Win Probability\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-purple-600\",\n              children: [signal.win_probability, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-100 bg-opacity-50 p-3 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Expected Profit (if target)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-green-700\",\n              children: [signal.expectedProfit, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 bg-opacity-50 p-3 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Max Loss (if stopped)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-red-700\",\n              children: [signal.expectedLoss, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this), signal.pnlData && signal.pnlData.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-100 bg-opacity-50 p-3 rounded mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Position Size (1% Rule)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold\",\n              children: [signal.pnlData.position, \" units\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700\",\n              children: [\"Max Risk: \\u20B9\", signal.pnlData.maxRisk.toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }, this), selectedMode === \"pro\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white bg-opacity-60 p-3 rounded border-t pt-3 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs font-semibold text-gray-700 mb-2\",\n            children: \"Advanced Metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-2 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Target 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: [\"\\u20B9\", signal.target_2]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Target 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: [\"\\u20B9\", signal.target_3]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full mt-4 bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium disabled:opacity-50\",\n          disabled: !marketOpen,\n          children: marketOpen ? \"Execute Trade\" : \"Market Closed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }, this)]\n      }, signal.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(Signals, \"oet/utOC+QLthnkguGd3D4FONSc=\", false, function () {\n  return [useTradingStore];\n});\n_c = Signals;\nvar _c;\n$RefreshReg$(_c, \"Signals\");","map":{"version":3,"names":["React","useState","useEffect","intradayApi","recommendationApi","useTradingStore","toast","riskManagement","marketStatus","formatters","jsxDEV","_jsxDEV","Signals","_s","signals","setSignals","isLoading","setIsLoading","activeTab","setActiveTab","selectedMode","s","marketOpen","setMarketOpen","defaultCapital","setDefaultCapital","fetchSignals","updateMarketStatus","isMarketOpen","timer","setInterval","clearInterval","_response$data","response","getIntradaySignals","getActiveSignals","err","console","error","data","signalList","Array","isArray","results","enhancedSignals","map","signal","riskReward","entry_price","target_1","stop_loss","calculateRiskReward","expectedProfit","toFixed","expectedLoss","pnlData","calculatePnL","target_2","target_3","getSignalColor","getSignalIcon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","parseInt","target","placeholder","min","onClick","length","stock_symbol","created_at","win_probability","valid","position","maxRisk","disabled","id","_c","$RefreshReg$"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { intradayApi, recommendationApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { riskManagement, marketStatus, formatters } from \"../utils/tradingEngine\";\n\nexport default function Signals() {\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore((s) => [s.selectedMode]);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [defaultCapital, setDefaultCapital] = useState(100000);\n\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n\n  useEffect(() => {\n    // Update market status\n    const updateMarketStatus = () => {\n      setMarketOpen(marketStatus.isMarketOpen());\n    };\n\n    updateMarketStatus();\n    const timer = setInterval(updateMarketStatus, 60000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      let response;\n      try {\n        response =\n          activeTab === \"intraday\"\n            ? await intradayApi.getIntradaySignals()\n            : await recommendationApi.getActiveSignals();\n      } catch (err) {\n        console.error(\"API Error fetching signals:\", err);\n        // Fallback to empty array if API fails\n        response = { data: [] };\n      }\n\n      // Enhance signals with calculated risk/reward\n      const signalList = Array.isArray(response.data) ? response.data : response.data?.results || [];\n      const enhancedSignals = (signalList || []).map(signal => ({\n        ...signal,\n        riskReward: signal.entry_price && signal.target_1 && signal.stop_loss\n          ? riskManagement.calculateRiskReward(signal.entry_price, signal.target_1, signal.stop_loss)\n          : 0,\n        expectedProfit: signal.entry_price && signal.target_1\n          ? ((signal.target_1 - signal.entry_price) / signal.entry_price * 100).toFixed(2)\n          : 0,\n        expectedLoss: signal.entry_price && signal.stop_loss\n          ? ((signal.stop_loss - signal.entry_price) / signal.entry_price * 100).toFixed(2)\n          : 0,\n        pnlData: signal.entry_price && signal.target_1 && signal.stop_loss\n          ? riskManagement.calculatePnL(\n              defaultCapital,\n              signal.entry_price,\n              [signal.target_1, signal.target_2, signal.target_3],\n              signal.stop_loss\n            )\n          : null\n      }));\n\n      setSignals(enhancedSignals);\n    } catch (error) {\n      toast.error(\"Failed to fetch signals\");\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSignalColor = (signal) => {\n    switch (signal) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50 border-green-300\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50 border-red-300\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50 border-yellow-300\";\n      default:\n        return \"text-gray-600 bg-gray-50 border-gray-300\";\n    }\n  };\n\n  const getSignalIcon = (signal) => {\n    switch (signal) {\n      case \"BUY\":\n        return \"üü¢\";\n      case \"SELL\":\n        return \"üî¥\";\n      case \"HOLD\":\n        return \"üü°\";\n      default:\n        return \"‚ö™\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Market Status Banner */}\n      {marketOpen ? (\n        <div className=\"bg-green-50 border-l-4 border-green-400 rounded-lg p-4\">\n          <p className=\"font-semibold text-green-900\">üü¢ Market Open - Live Signals</p>\n          <p className=\"text-sm text-green-700 mt-1\">Showing real-time signals with calculated risk/reward</p>\n        </div>\n      ) : (\n        <div className=\"bg-blue-50 border-l-4 border-blue-400 rounded-lg p-4\">\n          <p className=\"font-semibold text-blue-900\">üìä Market Closed - Analysis Mode</p>\n          <p className=\"text-sm text-blue-700 mt-1\">Showing historical signals and last available analysis</p>\n        </div>\n      )}\n\n      {/* Capital Input */}\n      <div className=\"bg-white rounded-lg shadow-md p-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Capital for Risk Calculation</label>\n        <input\n          type=\"number\"\n          value={defaultCapital}\n          onChange={(e) => setDefaultCapital(parseInt(e.target.value))}\n          placeholder=\"‚Çπ100,000\"\n          min=\"1000\"\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">Used to calculate position sizing and expected P&L</p>\n      </div>\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setActiveTab(\"all\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"all\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          All Signals\n        </button>\n        <button\n          onClick={() => setActiveTab(\"intraday\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"intraday\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          ‚ö° Intraday\n        </button>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-block animate-spin text-4xl\">‚è≥</div>\n          <p className=\"text-gray-600 mt-4\">Loading signals...</p>\n        </div>\n      ) : signals.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">No signals available</p>\n          <p className=\"text-gray-400\">Generate a recommendation to see signals</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {signals.map((signal) => (\n            <div\n              key={signal.id}\n              className={`rounded-lg shadow-md p-6 border-l-4 ${getSignalColor(signal.signal)}`}\n            >\n              {/* Header */}\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-2xl font-bold\">{getSignalIcon(signal.signal)} {signal.stock_symbol}</h3>\n                  <p className=\"text-sm text-gray-600\">{signal.created_at}</p>\n                </div>\n                <span className=\"text-xl font-bold bg-white bg-opacity-70 px-3 py-1 rounded\">\n                  {signal.signal}\n                </span>\n              </div>\n\n              {/* Price Information */}\n              <div className=\"grid grid-cols-3 gap-2 mb-4 pb-4 border-b\">\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Entry</p>\n                  <p className=\"font-bold\">‚Çπ{signal.entry_price}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Stop Loss</p>\n                  <p className=\"font-bold\">‚Çπ{signal.stop_loss}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-2 rounded\">\n                  <p className=\"text-xs text-gray-600\">Target 1</p>\n                  <p className=\"font-bold\">‚Çπ{signal.target_1}</p>\n                </div>\n              </div>\n\n              {/* Risk/Reward & Probability */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4 pb-4 border-b\">\n                <div className=\"bg-white bg-opacity-60 p-3 rounded text-center\">\n                  <p className=\"text-xs text-gray-600\">Risk/Reward</p>\n                  <p className=\"text-lg font-bold text-blue-600\">1:{signal.riskReward}</p>\n                </div>\n                <div className=\"bg-white bg-opacity-60 p-3 rounded text-center\">\n                  <p className=\"text-xs text-gray-600\">Win Probability</p>\n                  <p className=\"text-lg font-bold text-purple-600\">{signal.win_probability}%</p>\n                </div>\n              </div>\n\n              {/* Expected P&L */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                <div className=\"bg-green-100 bg-opacity-50 p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Expected Profit (if target)</p>\n                  <p className=\"text-lg font-bold text-green-700\">{signal.expectedProfit}%</p>\n                </div>\n                <div className=\"bg-red-100 bg-opacity-50 p-3 rounded\">\n                  <p className=\"text-xs text-gray-600\">Max Loss (if stopped)</p>\n                  <p className=\"text-lg font-bold text-red-700\">{signal.expectedLoss}%</p>\n                </div>\n              </div>\n\n              {/* Position Sizing */}\n              {signal.pnlData && signal.pnlData.valid && (\n                <div className=\"bg-blue-100 bg-opacity-50 p-3 rounded mb-4\">\n                  <p className=\"text-xs text-gray-600\">Position Size (1% Rule)</p>\n                  <div className=\"flex justify-between items-center mt-2\">\n                    <span className=\"font-bold\">{signal.pnlData.position} units</span>\n                    <span className=\"text-sm text-gray-700\">Max Risk: ‚Çπ{signal.pnlData.maxRisk.toFixed(0)}</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Pro Mode: Detailed Metrics */}\n              {selectedMode === \"pro\" && (\n                <div className=\"bg-white bg-opacity-60 p-3 rounded border-t pt-3 mt-3\">\n                  <p className=\"text-xs font-semibold text-gray-700 mb-2\">Advanced Metrics</p>\n                  <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                    <div>\n                      <p className=\"text-gray-600\">Target 2</p>\n                      <p className=\"font-bold\">‚Çπ{signal.target_2}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-gray-600\">Target 3</p>\n                      <p className=\"font-bold\">‚Çπ{signal.target_3}</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Action Button */}\n              <button className=\"w-full mt-4 bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium disabled:opacity-50\"\n                disabled={!marketOpen}>\n                {marketOpen ? \"Execute Trade\" : \"Market Closed\"}\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}