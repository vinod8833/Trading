{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{authApi}from\"../api/endpoints\";import{useAuthStore}from\"../store\";import toast from\"react-hot-toast\";import{Button}from\"../components/ui/Button\";import{Input}from\"../components/ui/Input\";import{Alert}from\"../components/ui/Common\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const navigate=useNavigate();const setTokens=useAuthStore(s=>s.setTokens);const setUser=useAuthStore(s=>s.setUser);const handleSubmit=async e=>{e.preventDefault();if(!username||!password){toast.error(\"Please enter username and password\");return;}setIsLoading(true);try{const response=await authApi.login(username,password);const{access,refresh,user}=response.data;localStorage.setItem(\"access_token\",access);localStorage.setItem(\"refresh_token\",refresh);localStorage.setItem(\"user\",JSON.stringify(user));setTokens(access,refresh);setUser(user);toast.success(\"‚úÖ Login successful!\");navigate(\"/dashboard\");}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||\"‚ùå Login failed\");}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-600 via-blue-500 to-cyan-500 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 -right-40 w-80 h-80 bg-blue-400 rounded-full opacity-20 blur-3xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-400 rounded-full opacity-20 blur-3xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-cyan-600 px-8 pt-12 pb-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-bold text-white mb-3\",children:\"\\uD83D\\uDCC8\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-2\",children:\"KVK Trading\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100\",children:\"AI-Powered Stock Trading Platform\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-8 py-8\",children:[/*#__PURE__*/_jsx(Alert,{type:\"info\",title:\"Demo Access\",message:\"Username: vinod8833 | Password: test123\",icon:\"\\u2139\\uFE0F\",className:\"mb-6\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[/*#__PURE__*/_jsx(Input,{label:\"Username\",placeholder:\"Enter your username\",value:username,onChange:e=>setUsername(e.target.value),icon:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(Input,{label:\"Password\",type:\"password\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),icon:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-gray-700\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),\"Remember me\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:text-blue-700 font-medium\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isLoading:isLoading,className:\"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition\",children:isLoading?\"Signing in...\":\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-gray-600 text-sm mt-6\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:text-blue-700 font-medium\",children:\"Contact Administrator\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid grid-cols-3 gap-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Live Analysis\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"AI Signals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Real-time Data\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","authApi","useAuthStore","toast","Button","Input","Alert","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","isLoading","setIsLoading","navigate","setTokens","s","setUser","handleSubmit","e","preventDefault","error","response","login","access","refresh","user","data","localStorage","setItem","JSON","stringify","success","_error$response","_error$response$data","detail","className","children","type","title","message","icon","onSubmit","label","placeholder","value","onChange","target"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { authApi } from \"../api/endpoints\";\nimport { useAuthStore } from \"../store\";\nimport toast from \"react-hot-toast\";\nimport { Button } from \"../components/ui/Button\";\nimport { Input } from \"../components/ui/Input\";\nimport { Alert } from \"../components/ui/Common\";\n\nexport default function Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const setTokens = useAuthStore((s) => s.setTokens);\n  const setUser = useAuthStore((s) => s.setUser);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!username || !password) {\n      toast.error(\"Please enter username and password\");\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await authApi.login(username, password);\n      const { access, refresh, user } = response.data;\n\n      localStorage.setItem(\"access_token\", access);\n      localStorage.setItem(\"refresh_token\", refresh);\n      localStorage.setItem(\"user\", JSON.stringify(user));\n\n      setTokens(access, refresh);\n      setUser(user);\n      toast.success(\"‚úÖ Login successful!\");\n      navigate(\"/dashboard\");\n    } catch (error) {\n      toast.error(error.response?.data?.detail || \"‚ùå Login failed\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-600 via-blue-500 to-cyan-500 flex items-center justify-center p-4\">\n      {/* Background Decoration */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-0 -right-40 w-80 h-80 bg-blue-400 rounded-full opacity-20 blur-3xl\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-400 rounded-full opacity-20 blur-3xl\"></div>\n      </div>\n\n      {/* Login Card */}\n      <div className=\"relative z-10 w-full max-w-md\">\n        <div className=\"bg-white rounded-2xl shadow-2xl overflow-hidden\">\n          {/* Header with Gradient */}\n          <div className=\"bg-gradient-to-r from-blue-600 to-cyan-600 px-8 pt-12 pb-8 text-center\">\n            <div className=\"text-5xl font-bold text-white mb-3\">üìà</div>\n            <h1 className=\"text-3xl font-bold text-white mb-2\">KVK Trading</h1>\n            <p className=\"text-blue-100\">AI-Powered Stock Trading Platform</p>\n          </div>\n\n          {/* Form */}\n          <div className=\"px-8 py-8\">\n            {/* Demo Credentials Alert */}\n            <Alert\n              type=\"info\"\n              title=\"Demo Access\"\n              message=\"Username: vinod8833 | Password: test123\"\n              icon=\"‚ÑπÔ∏è\"\n              className=\"mb-6\"\n            />\n\n            <form onSubmit={handleSubmit} className=\"space-y-5\">\n              <Input\n                label=\"Username\"\n                placeholder=\"Enter your username\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                icon=\"üë§\"\n              />\n\n              <Input\n                label=\"Password\"\n                type=\"password\"\n                placeholder=\"Enter your password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                icon=\"üîê\"\n              />\n\n              <div className=\"flex items-center justify-between text-sm\">\n                <label className=\"flex items-center gap-2 text-gray-700\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                  Remember me\n                </label>\n                <button className=\"text-blue-600 hover:text-blue-700 font-medium\">\n                  Forgot password?\n                </button>\n              </div>\n\n              <Button\n                type=\"submit\"\n                isLoading={isLoading}\n                className=\"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition\"\n              >\n                {isLoading ? \"Signing in...\" : \"Sign In\"}\n              </Button>\n            </form>\n\n            {/* Footer */}\n            <p className=\"text-center text-gray-600 text-sm mt-6\">\n              Don't have an account?{\" \"}\n              <button className=\"text-blue-600 hover:text-blue-700 font-medium\">\n                Contact Administrator\n              </button>\n            </p>\n          </div>\n        </div>\n\n        {/* Features Info */}\n        <div className=\"mt-8 grid grid-cols-3 gap-4 text-center\">\n          <div className=\"text-white\">\n            <div className=\"text-2xl mb-2\">üìä</div>\n            <p className=\"text-sm font-medium\">Live Analysis</p>\n          </div>\n          <div className=\"text-white\">\n            <div className=\"text-2xl mb-2\">üéØ</div>\n            <p className=\"text-sm font-medium\">AI Signals</p>\n          </div>\n          <div className=\"text-white\">\n            <div className=\"text-2xl mb-2\">‚ö°</div>\n            <p className=\"text-sm font-medium\">Real-time Data</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}