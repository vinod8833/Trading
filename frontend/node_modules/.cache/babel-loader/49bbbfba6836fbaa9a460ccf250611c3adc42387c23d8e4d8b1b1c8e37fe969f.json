{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{recommendationApi,intradayApi}from\"../api/endpoints\";import{useTradingStore}from\"../store\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signals(){const[signals,setSignals]=useState([]);const[isLoading,setIsLoading]=useState(false);const[activeTab,setActiveTab]=useState(\"all\");const[selectedMode]=useTradingStore(s=>[s.selectedMode]);useEffect(()=>{fetchSignals();},[activeTab]);const fetchSignals=async()=>{setIsLoading(true);try{const response=activeTab===\"intraday\"?await intradayApi.getIntradaySignals():await recommendationApi.getActiveSignals();setSignals(response.data);}catch(error){toast.error(\"Failed to fetch signals\");console.error(error);}finally{setIsLoading(false);}};const getSignalColor=signal=>{switch(signal){case\"BUY\":return\"text-green-600 bg-green-50\";case\"SELL\":return\"text-red-600 bg-red-50\";case\"HOLD\":return\"text-yellow-600 bg-yellow-50\";default:return\"text-gray-600 bg-gray-50\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"all\"),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(activeTab===\"all\"?\"bg-primary text-white\":\"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"),children:\"All Signals\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"intraday\"),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(activeTab===\"intraday\"?\"bg-primary text-white\":\"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"),children:\"\\u26A1 Intraday\"})]}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin text-4xl\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-4\",children:\"Loading signals...\"})]}):signals.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"No signals available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Generate a recommendation to see signals\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:signals.map(signal=>/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg shadow-md p-6 border-l-4 \".concat(getSignalColor(signal.signal)),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:signal.stock_symbol}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:signal.created_at})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold\",children:signal.signal})]}),selectedMode===\"pro\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Entry\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[\"\\u20B9\",signal.entry_price]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Stop Loss\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[\"\\u20B9\",signal.stop_loss]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Target 1\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[\"\\u20B9\",signal.target_1]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Confidence\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[signal.confidence,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 w-full bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium\",children:\"Execute Trade\"})]},signal.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","recommendationApi","intradayApi","useTradingStore","toast","jsx","_jsx","jsxs","_jsxs","Signals","signals","setSignals","isLoading","setIsLoading","activeTab","setActiveTab","selectedMode","s","fetchSignals","response","getIntradaySignals","getActiveSignals","data","error","console","getSignalColor","signal","className","children","onClick","concat","length","map","stock_symbol","created_at","entry_price","stop_loss","target_1","confidence","id"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/Signals.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { recommendationApi, intradayApi } from \"../api/endpoints\";\nimport { useTradingStore } from \"../store\";\nimport toast from \"react-hot-toast\";\n\nexport default function Signals() {\n  const [signals, setSignals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMode] = useTradingStore((s) => [s.selectedMode]);\n\n  useEffect(() => {\n    fetchSignals();\n  }, [activeTab]);\n\n  const fetchSignals = async () => {\n    setIsLoading(true);\n    try {\n      const response =\n        activeTab === \"intraday\"\n          ? await intradayApi.getIntradaySignals()\n          : await recommendationApi.getActiveSignals();\n\n      setSignals(response.data);\n    } catch (error) {\n      toast.error(\"Failed to fetch signals\");\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSignalColor = (signal) => {\n    switch (signal) {\n      case \"BUY\":\n        return \"text-green-600 bg-green-50\";\n      case \"SELL\":\n        return \"text-red-600 bg-red-50\";\n      case \"HOLD\":\n        return \"text-yellow-600 bg-yellow-50\";\n      default:\n        return \"text-gray-600 bg-gray-50\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setActiveTab(\"all\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"all\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          All Signals\n        </button>\n        <button\n          onClick={() => setActiveTab(\"intraday\")}\n          className={`px-4 py-2 rounded-lg font-medium transition ${\n            activeTab === \"intraday\"\n              ? \"bg-primary text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n        >\n          ⚡ Intraday\n        </button>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-block animate-spin text-4xl\">⏳</div>\n          <p className=\"text-gray-600 mt-4\">Loading signals...</p>\n        </div>\n      ) : signals.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n          <p className=\"text-gray-600 text-lg\">No signals available</p>\n          <p className=\"text-gray-400\">Generate a recommendation to see signals</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {signals.map((signal) => (\n            <div\n              key={signal.id}\n              className={`rounded-lg shadow-md p-6 border-l-4 ${getSignalColor(\n                signal.signal\n              )}`}\n            >\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-xl font-bold\">{signal.stock_symbol}</h3>\n                  <p className=\"text-sm text-gray-600\">{signal.created_at}</p>\n                </div>\n                <span className=\"text-2xl font-bold\">{signal.signal}</span>\n              </div>\n\n              {selectedMode === \"pro\" && (\n                <div className=\"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-200\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Entry</p>\n                    <p className=\"text-lg font-semibold\">₹{signal.entry_price}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Stop Loss</p>\n                    <p className=\"text-lg font-semibold\">₹{signal.stop_loss}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Target 1</p>\n                    <p className=\"text-lg font-semibold\">₹{signal.target_1}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Confidence</p>\n                    <p className=\"text-lg font-semibold\">{signal.confidence}%</p>\n                  </div>\n                </div>\n              )}\n\n              <button className=\"mt-4 w-full bg-primary text-white py-2 rounded-lg hover:shadow-lg transition font-medium\">\n                Execute Trade\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}