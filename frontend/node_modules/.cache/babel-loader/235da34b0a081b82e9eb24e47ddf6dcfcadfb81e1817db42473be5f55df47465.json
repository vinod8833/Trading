{"ast":null,"code":"import _objectSpread from\"/home/vinod/Music/KVK_8833_PROFIT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import toast from\"react-hot-toast\";import{marketStatus}from\"../utils/tradingEngine\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE=\"http://localhost:8001/api\";export default function PaperTrading(){var _stats$profit_factor;const[portfolios,setPortfolios]=useState([]);const[selectedPortfolio,setSelectedPortfolio]=useState(null);const[activeTrades,setActiveTrades]=useState([]);const[closedTrades,setClosedTrades]=useState([]);const[stats,setStats]=useState(null);const[loading,setLoading]=useState(false);const[marketOpen,setMarketOpen]=useState(false);const[marketStatusInfo,setMarketStatusInfo]=useState(null);const[showNewTrade,setShowNewTrade]=useState(false);const[refreshTimer,setRefreshTimer]=useState(30);const[newTrade,setNewTrade]=useState({symbol:\"INFY\",side:\"BUY\",quantity:10,entry_price:1500,stop_loss:1485,target_1:1530,target_2:1550,target_3:1570,target_4:1590});// Initialize\nuseEffect(()=>{checkMarketStatus();loadPortfolios();const statusInterval=setInterval(checkMarketStatus,60000);return()=>clearInterval(statusInterval);},[]);// Auto-refresh live prices every 30 seconds\nuseEffect(()=>{if(!selectedPortfolio||!marketOpen)return;const refreshInterval=setInterval(()=>{loadActiveTrades();setRefreshTimer(prev=>prev===0?30:prev-1);},30000);return()=>clearInterval(refreshInterval);},[selectedPortfolio,marketOpen]);// Load when portfolio changes\nuseEffect(()=>{if(selectedPortfolio){loadActiveTrades();loadClosedTrades();loadStats();}},[selectedPortfolio]);const checkMarketStatus=()=>{const status=marketStatus.getMarketStatus();setMarketOpen(status.isOpen);setMarketStatusInfo(status);};const loadPortfolios=async()=>{try{const response=await axios.get(\"\".concat(API_BASE,\"/portfolios/\"));setPortfolios(response.data);if(response.data.length>0){setSelectedPortfolio(response.data[0].id);}}catch(error){console.error(\"Error loading portfolios:\",error);toast.error(\"Failed to load portfolios\");}};const loadActiveTrades=async()=>{if(!selectedPortfolio)return;try{const response=await axios.get(\"\".concat(API_BASE,\"/paper-trades/active_trades/?portfolio_id=\").concat(selectedPortfolio));setActiveTrades(response.data.trades||[]);}catch(error){console.error(\"Error loading active trades:\",error);}};const loadClosedTrades=async()=>{if(!selectedPortfolio)return;try{const response=await axios.get(\"\".concat(API_BASE,\"/paper-trades/closed_trades/?portfolio_id=\").concat(selectedPortfolio));setClosedTrades(response.data.trades||[]);}catch(error){console.error(\"Error loading closed trades:\",error);}};const loadStats=async()=>{if(!selectedPortfolio)return;try{const response=await axios.get(\"\".concat(API_BASE,\"/paper-trades/stats/?portfolio_id=\").concat(selectedPortfolio));setStats(response.data.stats);}catch(error){console.error(\"Error loading stats:\",error);}};const handleCreateTrade=async e=>{e.preventDefault();if(!marketOpen){toast.error(\"Market is closed. Trading available: 9:15 AM - 3:30 PM IST\");return;}if(!selectedPortfolio){toast.error(\"Please select a portfolio\");return;}setLoading(true);try{var _portfolios$find;const response=await axios.post(\"\".concat(API_BASE,\"/paper-trades/create_paper_trade/\"),{portfolio_id:selectedPortfolio,symbol:newTrade.symbol,side:newTrade.side,entry_price:newTrade.entry_price,quantity:newTrade.quantity,stop_loss:newTrade.stop_loss,target_1:newTrade.target_1,target_2:newTrade.target_2,target_3:newTrade.target_3,target_4:newTrade.target_4,capital:(_portfolios$find=portfolios.find(p=>p.id===selectedPortfolio))===null||_portfolios$find===void 0?void 0:_portfolios$find.capital});if(response.data.success){toast.success(\"Trade placed: \".concat(newTrade.side,\" \").concat(newTrade.quantity,\" \").concat(newTrade.symbol));setNewTrade({symbol:\"INFY\",side:\"BUY\",quantity:10,entry_price:1500,stop_loss:1485,target_1:1530,target_2:1550,target_3:1570,target_4:1590});setShowNewTrade(false);loadActiveTrades();loadStats();}else{var _response$data$valida,_response$data$valida2;const errors=((_response$data$valida=response.data.validation)===null||_response$data$valida===void 0?void 0:_response$data$valida.errors)||[];const warnings=((_response$data$valida2=response.data.validation)===null||_response$data$valida2===void 0?void 0:_response$data$valida2.warnings)||[];errors.forEach(e=>toast.error(e));warnings.forEach(w=>toast(w,{icon:\"âš ï¸\"}));}}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Failed to create trade\");}finally{setLoading(false);}};const handleCloseTrade=async(tradeId,exitPrice,exitType)=>{try{const response=await axios.post(\"\".concat(API_BASE,\"/paper-trades/\").concat(tradeId,\"/close_paper_trade/\"),{exit_price:exitPrice,exit_type:exitType});if(response.data.success){const result=response.data.result;toast.success(\"\\u2705 Trade closed: \".concat(result.pnl_percent>0?\"+\":\"\").concat(result.pnl_percent.toFixed(2),\"% | P&L: \\u20B9\").concat(result.net_pnl.toFixed(0)));loadActiveTrades();loadClosedTrades();loadStats();}}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||\"Failed to close trade\");}};const getTotalCapital=()=>{const portfolio=portfolios.find(p=>p.id===selectedPortfolio);return(portfolio===null||portfolio===void 0?void 0:portfolio.capital)||0;};const getActiveValue=()=>{return activeTrades.reduce((sum,t)=>sum+(t.entry_value||0),0);};const getUnrealizedPnL=()=>{return activeTrades.reduce((sum,t)=>sum+(t.unrealized_pnl||0),0);};const getTotalPnL=()=>{const realized=closedTrades.reduce((sum,t)=>sum+(t.profit_loss||0),0);return realized+getUnrealizedPnL();};const getWinRate=()=>{if(closedTrades.length===0)return 0;const winners=closedTrades.filter(t=>(t.profit_loss||0)>0).length;return(winners/closedTrades.length*100).toFixed(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[marketStatusInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg shadow-md p-4 text-white \".concat(marketOpen?\"bg-green-600\":\"bg-red-600\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold\",children:marketOpen?\"ðŸŸ¢ Market Open - Live Trading\":\"ðŸ”’ Market Closed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:marketOpen?\"Open: 9:15 AM - 3:30 PM (IST)\":\"Opens: \".concat(marketStatusInfo.timeUntilOpen||'Tomorrow')})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uD83D\\uDCCA Paper Trading\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Practice trading with virtual capital - fully synced with live market prices\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Portfolio\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPortfolio||\"\",onChange:e=>setSelectedPortfolio(parseInt(e.target.value)),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose a portfolio...\"}),portfolios.map(p=>/*#__PURE__*/_jsxs(\"option\",{value:p.id,children:[p.name,\" - \\u20B9\",(p.capital||0).toLocaleString()]},p.id))]})]})]}),selectedPortfolio&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Paper Capital\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[\"\\u20B9\",getTotalCapital().toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Available for trading\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Active Value\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[\"\\u20B9\",getActiveValue().toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[activeTrades.length,\" open trades\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Unrealized P&L\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(getUnrealizedPnL()>=0?\"text-green-600\":\"text-red-600\"),children:[getUnrealizedPnL()>=0?\"+\":\"\",\"\\u20B9\",getUnrealizedPnL().toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Live trades\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total P&L\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(getTotalPnL()>=0?\"text-green-600\":\"text-red-600\"),children:[getTotalPnL()>=0?\"+\":\"\",\"\\u20B9\",getTotalPnL().toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"All trades\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Win Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-primary\",children:[getWinRate(),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[closedTrades.length,\" closed\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewTrade(!showNewTrade),disabled:!marketOpen||loading,className:\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition disabled:opacity-50\",children:\"\\u2795 New Trade\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadActiveTrades,className:\"bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\",children:[\"\\uD83D\\uDD04 Sync Prices (\",refreshTimer,\"s)\"]})]}),showNewTrade&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Create New Paper Trade\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateTrade,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTrade.symbol,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{symbol:e.target.value.toUpperCase()})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Side\"}),/*#__PURE__*/_jsxs(\"select\",{value:newTrade.side,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{side:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"BUY\",children:\"BUY\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SELL\",children:\"SELL\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTrade.quantity,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{quantity:parseInt(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Entry Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newTrade.entry_price,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{entry_price:parseFloat(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Stop Loss (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newTrade.stop_loss,onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{stop_loss:parseFloat(e.target.value)})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Risk %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",disabled:true,value:(Math.abs(newTrade.entry_price-newTrade.stop_loss)/newTrade.entry_price*100).toFixed(2),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Profit Targets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[1,2,3,4].map(i=>/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"T\".concat(i),value:newTrade[\"target_\".concat(i)],onChange:e=>setNewTrade(_objectSpread(_objectSpread({},newTrade),{},{[\"target_\".concat(i)]:parseFloat(e.target.value)})),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary text-sm\"},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 bg-green-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition disabled:opacity-50\",children:loading?\"Creating...\":\"âœ… Create Trade\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowNewTrade(false),className:\"flex-1 bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\",children:\"Cancel\"})]})]})]}),activeTrades.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:[\"\\uD83D\\uDCC8 Open Trades (\",activeTrades.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:activeTrades.map(trade=>{var _trade$current_price,_trade$target_,_trade$target_2,_trade$target_3,_trade$target_4,_trade$risk_percent;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-bold text-gray-900\",children:[trade.side===\"BUY\"?\"ðŸ“ˆ\":\"ðŸ“‰\",\" \",trade.stock.symbol,\" \\xD7 \",trade.quantity]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Entry: \\u20B9\",trade.entry_price.toFixed(2),\" | Current: \\u20B9\",((_trade$current_price=trade.current_price)===null||_trade$current_price===void 0?void 0:_trade$current_price.toFixed(2))||\"N/A\"]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold \".concat((trade.unrealized_pnl||0)>=0?\"text-green-600\":\"text-red-600\"),children:[(trade.unrealized_pnl||0)>=0?\"+\":\"\",\"\\u20B9\",(trade.unrealized_pnl||0).toFixed(0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Stop Loss\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-red-600\",children:[\"\\u20B9\",trade.stop_loss.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Target 1\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",((_trade$target_=trade.target_1)===null||_trade$target_===void 0?void 0:_trade$target_.toFixed(2))||\"â€”\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Target 2\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",((_trade$target_2=trade.target_2)===null||_trade$target_2===void 0?void 0:_trade$target_2.toFixed(2))||\"â€”\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Target 3\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",((_trade$target_3=trade.target_3)===null||_trade$target_3===void 0?void 0:_trade$target_3.toFixed(2))||\"â€”\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Target 4\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",((_trade$target_4=trade.target_4)===null||_trade$target_4===void 0?void 0:_trade$target_4.toFixed(2))||\"â€”\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Risk %\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[(_trade$risk_percent=trade.risk_percent)===null||_trade$risk_percent===void 0?void 0:_trade$risk_percent.toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap\",children:[trade.target_1&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCloseTrade(trade.id,trade.target_1,\"TARGET\"),className:\"bg-green-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\",children:[\"\\uD83C\\uDFAF T1: \\u20B9\",trade.target_1.toFixed(2)]}),trade.target_2&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCloseTrade(trade.id,trade.target_2,\"TARGET\"),className:\"bg-green-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\",children:[\"\\uD83C\\uDFAF T2: \\u20B9\",trade.target_2.toFixed(2)]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCloseTrade(trade.id,trade.stop_loss,\"STOPLOSS\"),className:\"bg-red-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\",children:[\"\\uD83D\\uDED1 SL: \\u20B9\",trade.stop_loss.toFixed(2)]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Manual exit price\",id:\"manual-exit-\".concat(trade.id),className:\"flex-1 px-3 py-2 border border-gray-300 rounded text-sm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const exitPrice=parseFloat(document.getElementById(\"manual-exit-\".concat(trade.id)).value);if(exitPrice>0){handleCloseTrade(trade.id,exitPrice,\"MANUAL\");}else{toast.error(\"Enter valid exit price\");}},className:\"bg-blue-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\",children:\"Exit\"})]})]},trade.id);})})]}),closedTrades.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:[\"\\u2705 Closed Trades (\",closedTrades.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Side\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Entry\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Exit\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Return %\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left font-semibold\",children:\"Commission\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:closedTrades.map(trade=>{var _trade$exit_price;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 font-semibold\",children:trade.stock.symbol}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:trade.side===\"BUY\"?\"ðŸ“ˆ BUY\":\"ðŸ“‰ SELL\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:trade.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[\"\\u20B9\",trade.entry_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[\"\\u20B9\",(_trade$exit_price=trade.exit_price)===null||_trade$exit_price===void 0?void 0:_trade$exit_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-xs\",children:[trade.exit_type===\"TARGET\"&&\"ðŸŽ¯ Target\",trade.exit_type===\"STOPLOSS\"&&\"ðŸ›‘ Stop\",trade.exit_type===\"MANUAL\"&&\"âœ‹ Manual\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 font-semibold \".concat((trade.profit_loss||0)>=0?\"text-green-600\":\"text-red-600\"),children:[(trade.profit_loss||0)>=0?\"+\":\"\",\"\\u20B9\",(trade.profit_loss||0).toFixed(0)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 font-semibold \".concat((trade.profit_loss_percent||0)>=0?\"text-green-600\":\"text-red-600\"),children:[(trade.profit_loss_percent||0)>=0?\"+\":\"\",(trade.profit_loss_percent||0).toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-red-600\",children:[\"\\u20B9\",((trade.entry_commission||0)+(trade.exit_commission||0)).toFixed(0)]})]},trade.id);})})]})})]}),stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Total Realized P&L\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(stats.total_realized_pnl>=0?\"text-green-600\":\"text-red-600\"),children:[stats.total_realized_pnl>=0?\"+\":\"\",\"\\u20B9\",stats.total_realized_pnl.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Profit Factor\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-primary\",children:[(_stats$profit_factor=stats.profit_factor)===null||_stats$profit_factor===void 0?void 0:_stats$profit_factor.toFixed(2),\"x\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Avg Win / Avg Loss\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Winners / Losers\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-primary\",children:[stats.winners,\" / \",stats.losers]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[stats.win_rate,\"% win rate\"]})]})]}),activeTrades.length===0&&closedTrades.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"No trades yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Open your first paper trade to start practicing\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","toast","marketStatus","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE","PaperTrading","_stats$profit_factor","portfolios","setPortfolios","selectedPortfolio","setSelectedPortfolio","activeTrades","setActiveTrades","closedTrades","setClosedTrades","stats","setStats","loading","setLoading","marketOpen","setMarketOpen","marketStatusInfo","setMarketStatusInfo","showNewTrade","setShowNewTrade","refreshTimer","setRefreshTimer","newTrade","setNewTrade","symbol","side","quantity","entry_price","stop_loss","target_1","target_2","target_3","target_4","checkMarketStatus","loadPortfolios","statusInterval","setInterval","clearInterval","refreshInterval","loadActiveTrades","prev","loadClosedTrades","loadStats","status","getMarketStatus","isOpen","response","get","concat","data","length","id","error","console","trades","handleCreateTrade","e","preventDefault","_portfolios$find","post","portfolio_id","capital","find","p","success","_response$data$valida","_response$data$valida2","errors","validation","warnings","forEach","w","icon","_error$response","_error$response$data","handleCloseTrade","tradeId","exitPrice","exitType","exit_price","exit_type","result","pnl_percent","toFixed","net_pnl","_error$response2","_error$response2$data","getTotalCapital","portfolio","getActiveValue","reduce","sum","t","entry_value","getUnrealizedPnL","unrealized_pnl","getTotalPnL","realized","profit_loss","getWinRate","winners","filter","className","children","timeUntilOpen","value","onChange","parseInt","target","map","name","toLocaleString","onClick","disabled","onSubmit","type","_objectSpread","toUpperCase","step","parseFloat","Math","abs","i","placeholder","trade","_trade$current_price","_trade$target_","_trade$target_2","_trade$target_3","_trade$target_4","_trade$risk_percent","stock","current_price","risk_percent","document","getElementById","_trade$exit_price","profit_loss_percent","entry_commission","exit_commission","total_realized_pnl","profit_factor","losers","win_rate"],"sources":["/home/vinod/Music/KVK_8833_PROFIT/frontend/src/pages/PaperTrading.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { marketStatus } from \"../utils/tradingEngine\";\nimport axios from \"axios\";\n\nconst API_BASE = \"http://localhost:8001/api\";\n\nexport default function PaperTrading() {\n  const [portfolios, setPortfolios] = useState([]);\n  const [selectedPortfolio, setSelectedPortfolio] = useState(null);\n  const [activeTrades, setActiveTrades] = useState([]);\n  const [closedTrades, setClosedTrades] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [marketOpen, setMarketOpen] = useState(false);\n  const [marketStatusInfo, setMarketStatusInfo] = useState(null);\n  const [showNewTrade, setShowNewTrade] = useState(false);\n  const [refreshTimer, setRefreshTimer] = useState(30);\n\n  const [newTrade, setNewTrade] = useState({\n    symbol: \"INFY\",\n    side: \"BUY\",\n    quantity: 10,\n    entry_price: 1500,\n    stop_loss: 1485,\n    target_1: 1530,\n    target_2: 1550,\n    target_3: 1570,\n    target_4: 1590,\n  });\n\n  // Initialize\n  useEffect(() => {\n    checkMarketStatus();\n    loadPortfolios();\n    const statusInterval = setInterval(checkMarketStatus, 60000);\n    return () => clearInterval(statusInterval);\n  }, []);\n\n  // Auto-refresh live prices every 30 seconds\n  useEffect(() => {\n    if (!selectedPortfolio || !marketOpen) return;\n\n    const refreshInterval = setInterval(() => {\n      loadActiveTrades();\n      setRefreshTimer(prev => prev === 0 ? 30 : prev - 1);\n    }, 30000);\n\n    return () => clearInterval(refreshInterval);\n  }, [selectedPortfolio, marketOpen]);\n\n  // Load when portfolio changes\n  useEffect(() => {\n    if (selectedPortfolio) {\n      loadActiveTrades();\n      loadClosedTrades();\n      loadStats();\n    }\n  }, [selectedPortfolio]);\n\n  const checkMarketStatus = () => {\n    const status = marketStatus.getMarketStatus();\n    setMarketOpen(status.isOpen);\n    setMarketStatusInfo(status);\n  };\n\n  const loadPortfolios = async () => {\n    try {\n      const response = await axios.get(`${API_BASE}/portfolios/`);\n      setPortfolios(response.data);\n      if (response.data.length > 0) {\n        setSelectedPortfolio(response.data[0].id);\n      }\n    } catch (error) {\n      console.error(\"Error loading portfolios:\", error);\n      toast.error(\"Failed to load portfolios\");\n    }\n  };\n\n  const loadActiveTrades = async () => {\n    if (!selectedPortfolio) return;\n    try {\n      const response = await axios.get(\n        `${API_BASE}/paper-trades/active_trades/?portfolio_id=${selectedPortfolio}`\n      );\n      setActiveTrades(response.data.trades || []);\n    } catch (error) {\n      console.error(\"Error loading active trades:\", error);\n    }\n  };\n\n  const loadClosedTrades = async () => {\n    if (!selectedPortfolio) return;\n    try {\n      const response = await axios.get(\n        `${API_BASE}/paper-trades/closed_trades/?portfolio_id=${selectedPortfolio}`\n      );\n      setClosedTrades(response.data.trades || []);\n    } catch (error) {\n      console.error(\"Error loading closed trades:\", error);\n    }\n  };\n\n  const loadStats = async () => {\n    if (!selectedPortfolio) return;\n    try {\n      const response = await axios.get(\n        `${API_BASE}/paper-trades/stats/?portfolio_id=${selectedPortfolio}`\n      );\n      setStats(response.data.stats);\n    } catch (error) {\n      console.error(\"Error loading stats:\", error);\n    }\n  };\n\n  const handleCreateTrade = async (e) => {\n    e.preventDefault();\n\n    if (!marketOpen) {\n      toast.error(\"Market is closed. Trading available: 9:15 AM - 3:30 PM IST\");\n      return;\n    }\n\n    if (!selectedPortfolio) {\n      toast.error(\"Please select a portfolio\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        `${API_BASE}/paper-trades/create_paper_trade/`,\n        {\n          portfolio_id: selectedPortfolio,\n          symbol: newTrade.symbol,\n          side: newTrade.side,\n          entry_price: newTrade.entry_price,\n          quantity: newTrade.quantity,\n          stop_loss: newTrade.stop_loss,\n          target_1: newTrade.target_1,\n          target_2: newTrade.target_2,\n          target_3: newTrade.target_3,\n          target_4: newTrade.target_4,\n          capital: portfolios.find(p => p.id === selectedPortfolio)?.capital,\n        }\n      );\n\n      if (response.data.success) {\n        toast.success(`Trade placed: ${newTrade.side} ${newTrade.quantity} ${newTrade.symbol}`);\n        setNewTrade({\n          symbol: \"INFY\",\n          side: \"BUY\",\n          quantity: 10,\n          entry_price: 1500,\n          stop_loss: 1485,\n          target_1: 1530,\n          target_2: 1550,\n          target_3: 1570,\n          target_4: 1590,\n        });\n        setShowNewTrade(false);\n        loadActiveTrades();\n        loadStats();\n      } else {\n        const errors = response.data.validation?.errors || [];\n        const warnings = response.data.validation?.warnings || [];\n        errors.forEach(e => toast.error(e));\n        warnings.forEach(w => toast(w, { icon: \"âš ï¸\" }));\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || \"Failed to create trade\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCloseTrade = async (tradeId, exitPrice, exitType) => {\n    try {\n      const response = await axios.post(\n        `${API_BASE}/paper-trades/${tradeId}/close_paper_trade/`,\n        {\n          exit_price: exitPrice,\n          exit_type: exitType,\n        }\n      );\n\n      if (response.data.success) {\n        const result = response.data.result;\n        toast.success(\n          `âœ… Trade closed: ${result.pnl_percent > 0 ? \"+\" : \"\"}${result.pnl_percent.toFixed(2)}% | P&L: â‚¹${result.net_pnl.toFixed(0)}`\n        );\n        loadActiveTrades();\n        loadClosedTrades();\n        loadStats();\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.error || \"Failed to close trade\");\n    }\n  };\n\n  const getTotalCapital = () => {\n    const portfolio = portfolios.find(p => p.id === selectedPortfolio);\n    return portfolio?.capital || 0;\n  };\n\n  const getActiveValue = () => {\n    return activeTrades.reduce((sum, t) => sum + (t.entry_value || 0), 0);\n  };\n\n  const getUnrealizedPnL = () => {\n    return activeTrades.reduce((sum, t) => sum + (t.unrealized_pnl || 0), 0);\n  };\n\n  const getTotalPnL = () => {\n    const realized = closedTrades.reduce((sum, t) => sum + (t.profit_loss || 0), 0);\n    return realized + getUnrealizedPnL();\n  };\n\n  const getWinRate = () => {\n    if (closedTrades.length === 0) return 0;\n    const winners = closedTrades.filter(t => (t.profit_loss || 0) > 0).length;\n    return ((winners / closedTrades.length) * 100).toFixed(1);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Market Status Banner */}\n      {marketStatusInfo && (\n        <div className={`rounded-lg shadow-md p-4 text-white ${marketOpen ? \"bg-green-600\" : \"bg-red-600\"}`}>\n          <div className=\"flex justify-between items-center\">\n            <div className=\"text-lg font-semibold\">\n              {marketOpen ? \"ðŸŸ¢ Market Open - Live Trading\" : \"ðŸ”’ Market Closed\"}\n            </div>\n            <div className=\"text-sm\">\n              {marketOpen ? \"Open: 9:15 AM - 3:30 PM (IST)\" : `Opens: ${marketStatusInfo.timeUntilOpen || 'Tomorrow'}`}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">ðŸ“Š Paper Trading</h1>\n        <p className=\"text-gray-600 mt-2\">Practice trading with virtual capital - fully synced with live market prices</p>\n\n        {/* Portfolio Selector */}\n        <div className=\"mt-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Portfolio</label>\n          <select\n            value={selectedPortfolio || \"\"}\n            onChange={(e) => setSelectedPortfolio(parseInt(e.target.value))}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n          >\n            <option value=\"\">Choose a portfolio...</option>\n            {portfolios.map(p => (\n              <option key={p.id} value={p.id}>{p.name} - â‚¹{(p.capital || 0).toLocaleString()}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {selectedPortfolio && (\n        <>\n          {/* Statistics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Paper Capital</p>\n              <p className=\"text-2xl font-bold text-gray-900\">â‚¹{getTotalCapital().toLocaleString()}</p>\n              <p className=\"text-xs text-gray-500 mt-1\">Available for trading</p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Active Value</p>\n              <p className=\"text-2xl font-bold text-blue-600\">â‚¹{getActiveValue().toLocaleString()}</p>\n              <p className=\"text-xs text-gray-500 mt-1\">{activeTrades.length} open trades</p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Unrealized P&L</p>\n              <p className={`text-2xl font-bold ${getUnrealizedPnL() >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                {getUnrealizedPnL() >= 0 ? \"+\" : \"\"}â‚¹{getUnrealizedPnL().toLocaleString()}\n              </p>\n              <p className=\"text-xs text-gray-500 mt-1\">Live trades</p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Total P&L</p>\n              <p className={`text-2xl font-bold ${getTotalPnL() >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                {getTotalPnL() >= 0 ? \"+\" : \"\"}â‚¹{getTotalPnL().toLocaleString()}\n              </p>\n              <p className=\"text-xs text-gray-500 mt-1\">All trades</p>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <p className=\"text-sm text-gray-600 mb-1\">Win Rate</p>\n              <p className=\"text-2xl font-bold text-primary\">{getWinRate()}%</p>\n              <p className=\"text-xs text-gray-500 mt-1\">{closedTrades.length} closed</p>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setShowNewTrade(!showNewTrade)}\n              disabled={!marketOpen || loading}\n              className=\"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition disabled:opacity-50\"\n            >\n              âž• New Trade\n            </button>\n            <button\n              onClick={loadActiveTrades}\n              className=\"bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:shadow-lg transition\"\n            >\n              ðŸ”„ Sync Prices ({refreshTimer}s)\n            </button>\n          </div>\n\n          {/* New Trade Form */}\n          {showNewTrade && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Create New Paper Trade</h3>\n              <form onSubmit={handleCreateTrade} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Symbol</label>\n                    <input\n                      type=\"text\"\n                      value={newTrade.symbol}\n                      onChange={(e) => setNewTrade({ ...newTrade, symbol: e.target.value.toUpperCase() })}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Side</label>\n                    <select\n                      value={newTrade.side}\n                      onChange={(e) => setNewTrade({ ...newTrade, side: e.target.value })}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                    >\n                      <option value=\"BUY\">BUY</option>\n                      <option value=\"SELL\">SELL</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Quantity</label>\n                    <input\n                      type=\"number\"\n                      value={newTrade.quantity}\n                      onChange={(e) => setNewTrade({ ...newTrade, quantity: parseInt(e.target.value) })}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Entry Price (â‚¹)</label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={newTrade.entry_price}\n                      onChange={(e) => setNewTrade({ ...newTrade, entry_price: parseFloat(e.target.value) })}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Stop Loss (â‚¹)</label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={newTrade.stop_loss}\n                      onChange={(e) => setNewTrade({ ...newTrade, stop_loss: parseFloat(e.target.value) })}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Risk %</label>\n                    <input\n                      type=\"number\"\n                      disabled\n                      value={((Math.abs(newTrade.entry_price - newTrade.stop_loss) / newTrade.entry_price) * 100).toFixed(2)}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                    />\n                  </div>\n                </div>\n\n                {/* Targets */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Profit Targets</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                    {[1, 2, 3, 4].map((i) => (\n                      <input\n                        key={i}\n                        type=\"number\"\n                        step=\"0.01\"\n                        placeholder={`T${i}`}\n                        value={newTrade[`target_${i}`]}\n                        onChange={(e) => setNewTrade({ ...newTrade, [`target_${i}`]: parseFloat(e.target.value) })}\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary text-sm\"\n                      />\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"flex-1 bg-green-600 text-white font-semibold py-2 rounded-lg hover:shadow-lg transition disabled:opacity-50\"\n                  >\n                    {loading ? \"Creating...\" : \"âœ… Create Trade\"}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowNewTrade(false)}\n                    className=\"flex-1 bg-gray-300 text-gray-700 font-semibold py-2 rounded-lg hover:shadow-lg transition\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n\n          {/* Open Trades */}\n          {activeTrades.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">ðŸ“ˆ Open Trades ({activeTrades.length})</h3>\n              <div className=\"space-y-4\">\n                {activeTrades.map((trade) => (\n                  <div key={trade.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <h4 className=\"text-lg font-bold text-gray-900\">\n                          {trade.side === \"BUY\" ? \"ðŸ“ˆ\" : \"ðŸ“‰\"} {trade.stock.symbol} Ã— {trade.quantity}\n                        </h4>\n                        <p className=\"text-sm text-gray-600\">Entry: â‚¹{trade.entry_price.toFixed(2)} | Current: â‚¹{trade.current_price?.toFixed(2) || \"N/A\"}</p>\n                      </div>\n                      <span className={`text-2xl font-bold ${(trade.unrealized_pnl || 0) >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                        {(trade.unrealized_pnl || 0) >= 0 ? \"+\" : \"\"}â‚¹{(trade.unrealized_pnl || 0).toFixed(0)}\n                      </span>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4 text-sm\">\n                      <div>\n                        <p className=\"text-gray-600\">Stop Loss</p>\n                        <p className=\"font-semibold text-red-600\">â‚¹{trade.stop_loss.toFixed(2)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Target 1</p>\n                        <p className=\"font-semibold text-green-600\">â‚¹{trade.target_1?.toFixed(2) || \"â€”\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Target 2</p>\n                        <p className=\"font-semibold text-green-600\">â‚¹{trade.target_2?.toFixed(2) || \"â€”\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Target 3</p>\n                        <p className=\"font-semibold text-green-600\">â‚¹{trade.target_3?.toFixed(2) || \"â€”\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Target 4</p>\n                        <p className=\"font-semibold text-green-600\">â‚¹{trade.target_4?.toFixed(2) || \"â€”\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Risk %</p>\n                        <p className=\"font-semibold\">{trade.risk_percent?.toFixed(2)}%</p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2 flex-wrap\">\n                      {trade.target_1 && (\n                        <button\n                          onClick={() => handleCloseTrade(trade.id, trade.target_1, \"TARGET\")}\n                          className=\"bg-green-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\"\n                        >\n                          ðŸŽ¯ T1: â‚¹{trade.target_1.toFixed(2)}\n                        </button>\n                      )}\n                      {trade.target_2 && (\n                        <button\n                          onClick={() => handleCloseTrade(trade.id, trade.target_2, \"TARGET\")}\n                          className=\"bg-green-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\"\n                        >\n                          ðŸŽ¯ T2: â‚¹{trade.target_2.toFixed(2)}\n                        </button>\n                      )}\n                      <button\n                        onClick={() => handleCloseTrade(trade.id, trade.stop_loss, \"STOPLOSS\")}\n                        className=\"bg-red-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\"\n                      >\n                        ðŸ›‘ SL: â‚¹{trade.stop_loss.toFixed(2)}\n                      </button>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        placeholder=\"Manual exit price\"\n                        id={`manual-exit-${trade.id}`}\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded text-sm\"\n                      />\n                      <button\n                        onClick={() => {\n                          const exitPrice = parseFloat(document.getElementById(`manual-exit-${trade.id}`).value);\n                          if (exitPrice > 0) {\n                            handleCloseTrade(trade.id, exitPrice, \"MANUAL\");\n                          } else {\n                            toast.error(\"Enter valid exit price\");\n                          }\n                        }}\n                        className=\"bg-blue-600 text-white font-semibold py-2 px-3 rounded text-sm hover:shadow-lg transition\"\n                      >\n                        Exit\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Closed Trades */}\n          {closedTrades.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">âœ… Closed Trades ({closedTrades.length})</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Stock</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Side</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Qty</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Entry</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Exit</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Type</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">P&L</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Return %</th>\n                      <th className=\"px-4 py-2 text-left font-semibold\">Commission</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {closedTrades.map((trade) => (\n                      <tr key={trade.id} className=\"hover:bg-gray-50\">\n                        <td className=\"px-4 py-2 font-semibold\">{trade.stock.symbol}</td>\n                        <td className=\"px-4 py-2\">{trade.side === \"BUY\" ? \"ðŸ“ˆ BUY\" : \"ðŸ“‰ SELL\"}</td>\n                        <td className=\"px-4 py-2\">{trade.quantity}</td>\n                        <td className=\"px-4 py-2\">â‚¹{trade.entry_price.toFixed(2)}</td>\n                        <td className=\"px-4 py-2\">â‚¹{trade.exit_price?.toFixed(2)}</td>\n                        <td className=\"px-4 py-2 text-xs\">\n                          {trade.exit_type === \"TARGET\" && \"ðŸŽ¯ Target\"}\n                          {trade.exit_type === \"STOPLOSS\" && \"ðŸ›‘ Stop\"}\n                          {trade.exit_type === \"MANUAL\" && \"âœ‹ Manual\"}\n                        </td>\n                        <td className={`px-4 py-2 font-semibold ${(trade.profit_loss || 0) >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                          {(trade.profit_loss || 0) >= 0 ? \"+\" : \"\"}â‚¹{(trade.profit_loss || 0).toFixed(0)}\n                        </td>\n                        <td className={`px-4 py-2 font-semibold ${(trade.profit_loss_percent || 0) >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                          {(trade.profit_loss_percent || 0) >= 0 ? \"+\" : \"\"}{(trade.profit_loss_percent || 0).toFixed(2)}%\n                        </td>\n                        <td className=\"px-4 py-2 text-red-600\">â‚¹{((trade.entry_commission || 0) + (trade.exit_commission || 0)).toFixed(0)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Statistics */}\n          {stats && (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <p className=\"text-sm text-gray-600 mb-2\">Total Realized P&L</p>\n                <p className={`text-3xl font-bold ${stats.total_realized_pnl >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                  {stats.total_realized_pnl >= 0 ? \"+\" : \"\"}â‚¹{stats.total_realized_pnl.toLocaleString()}\n                </p>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <p className=\"text-sm text-gray-600 mb-2\">Profit Factor</p>\n                <p className=\"text-3xl font-bold text-primary\">{stats.profit_factor?.toFixed(2)}x</p>\n                <p className=\"text-xs text-gray-500 mt-1\">Avg Win / Avg Loss</p>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <p className=\"text-sm text-gray-600 mb-2\">Winners / Losers</p>\n                <p className=\"text-3xl font-bold text-primary\">{stats.winners} / {stats.losers}</p>\n                <p className=\"text-xs text-gray-500 mt-1\">{stats.win_rate}% win rate</p>\n              </div>\n            </div>\n          )}\n\n          {/* Empty State */}\n          {activeTrades.length === 0 && closedTrades.length === 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\n              <p className=\"text-gray-600 text-lg\">No trades yet</p>\n              <p className=\"text-gray-400\">Open your first paper trade to start practicing</p>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}